0~~~~                            ~~ Monitor: 35dfa632-6163-476e-aed4-7866fd1de811
   2018-04-13 08h40.56.4145699 i Topic: CK.Monitoring.DispatcherSink
                   +00.0251344   > Initializing TextFile handler (MaxCountPerFile = 20000).
                   +00.0313564   < 
1~~~~                            ~~ Monitor: 4a2c69c6-9d10-41f0-aaee-5c043e612b06
                   +00.0981293 i Folder 'C:\Dev\CK-Database-Projects\CK-DB\Tests\CK.DB.Acl.Tests\TestStores' has been cleaned up.
                   +00.1762846 i > Accessing null StObj map: invoking StObjMapLoading event.
                   +00.1780535 i | File 'C:\Dev\CK-Database-Projects\CK-DB\Tests\CK.DB.Acl.Tests\bin\Debug\netcoreapp2.0\CK.StObj.AutoAssembly.dll' does not exist. Running StObjSetup to create it.
                   +00.1987902 i | > Running StObjSetup.
                   +00.2904708 i | | Using default connection string: Server=.;Database=master;Integrated Security=SSPI
                   +02.8743144 i | | > Ensuring database 'Database:CKTEST_CK_DB_Acl, Collation:Latin1_General_100_BIN2, CompatibilityLevel:130'.
                   +02.9831934 i | | <  | 1 conclusion:
                                 | |    | Database already exists, collation and compatiblity level match.
                   +03.0139617 i | | Using 'CKSetup/DefaultBinPaths' = C:\Dev\CK-Database-Projects\CK-DB\Tests\{CKSetupAutoTargetProjectBinFolder}
                   +03.0291506 i | | BinPath 'C:\Dev\CK-Database-Projects\CK-DB\Tests\{CKSetupAutoTargetProjectBinFolder}' resolved to: C:\Dev\CK-Database-Projects\CK-DB\CK.DB.Acl\bin\Debug\netstandard2.0.
                   +03.0306242 i | | Using store 'C:\Users\olivi\AppData\Local\CKSetupStore'.
                   +03.0309218 i | | Using remote 'https://cksetup.invenietis.net/'.
                   +03.1592054   | | Opened store with 97 components.
                   +03.1594508   | | Local store opened on : 'C:\Users\olivi\AppData\Local\CKSetupStore'.
                   +03.1616557   | | > Creating client remote store on 'https://cksetup.invenietis.net/'.
                   +03.1973047   | | < 
                   +03.1990477 i | | > Running Setup.
                   +03.2072287   | | | > Initializing SetupContext (ignoring signatures).
                   +03.2161332 i | | | | <Root>
                                 | | | |     <CKSetup>
                                 | | | |       <WorkingDirectory>C:\Dev\CK-Database-Projects\CK-DB\Tests\CK.DB.Acl.Tests\CKSetup-WorkingDir</WorkingDirectory>
                                 | | | |       <BinPaths>
                                 | | | |         <BinPath>C:\Dev\CK-Database-Projects\CK-DB\CK.DB.Acl\bin\Debug\netstandard2.0</BinPath>
                                 | | | |       </BinPaths>
                                 | | | |       <Dependencies />
                                 | | | |       <EngineAssemblyQualifiedName>CK.Setup.StObjEngine, CK.StObj.Engine</EngineAssemblyQualifiedName>
                                 | | | |     </CKSetup>
                                 | | | |     <Configuration>
                                 | | | |       <AppContextAssemblyGeneratedDirectoryTarget>C:\Dev\CK-Database-Projects\CK-DB\Tests\CK.DB.Acl.Tests\bin\Debug\netcoreapp2.0</AppContextAssemblyGeneratedDirectoryTarget>
                                 | | | |       <GenerateSourceFiles>true</GenerateSourceFiles>
                                 | | | |       <Assemblies />
                                 | | | |       <Types />
                                 | | | |       <Aspect Type="CK.Setup.SetupableAspectConfiguration, CK.Setupable.Model" Version="1" />
                                 | | | |       <Aspect Type="CK.Setup.SqlSetupAspectConfiguration, CK.SqlServer.Setup.Model">
                                 | | | |         <Databases />
                                 | | | |         <DefaultDatabaseConnectionString>Data Source=.;Initial Catalog=CKTEST_CK_DB_Acl;Integrated Security=True</DefaultDatabaseConnectionString>
                                 | | | |         <GlobalResolution>true</GlobalResolution>
                                 | | | |       </Aspect>
                                 | | | |     </Configuration>
                                 | | | |   </Root>
                   +03.2162702 i | | | | Configuration BasePath is empty: using current directory 'C:\Dev\CK-Database-Projects\CK-DB\Tests\CK.DB.Acl.Tests\bin\Debug\netcoreapp2.0'.
                   +03.2203404 i | | | | > Reading binary folders.
                   +03.2236275 i | | | | | > Reading files from 'C:\Dev\CK-Database-Projects\CK-DB\CK.DB.Acl\bin\Debug\netstandard2.0'.
                   +03.5666751 i | | | | | < 
                   +03.5675507 i | | | | <  | 1 conclusion:
                                 | | | |    | 1 folders read.
                   +03.6460617 i | | | | Creating provided Working Directory: C:\Dev\CK-Database-Projects\CK-DB\Tests\CK.DB.Acl.Tests\CKSetup-WorkingDir\.
                   +03.6491894 i | | | | Created setup folder in Working Directory: C:\Dev\CK-Database-Projects\CK-DB\Tests\CK.DB.Acl.Tests\CKSetup-WorkingDir\2018-04-13 08h41.00.0606476\.
                   +03.6514354   | | | < 
                   +03.6601318 i | | | > Resolving runtime support for 'C:\Dev\CK-Database-Projects\CK-DB\CK.DB.Acl\bin\Debug\netstandard2.0\'.
                   +03.6643690 i | | | | > Creating runtime dependencies resolver for C:\Dev\CK-Database-Projects\CK-DB\CK.DB.Acl\bin\Debug\netstandard2.0\.
                   +03.6695110 i | | | | | > Detecting runtimes for: CK.Setupable.Model/NetStandard20, CK.SqlServer.Setup.Model/NetStandard20, CK.StObj.Model/NetStandard20
                   +03.7005087 i | | | | | <  | 1 conclusion:
                                 | | | | |    | Single selected runtime: NetCoreApp20.
                   +03.7148412 i | | | | < 
                   +03.7177155 i | | | | > Initializing root dependencies.
                   +03.7405496   | | | | | Resolved required dependency -> CK.Setupable.Runtime/6.0.0-p05-00-develop-0049 to local CK.Setupable.Runtime/6.0.0-p05-00-develop-0049/NetCoreApp20/.
                   +03.7449799   | | | | | Resolved required dependency -> CK.SqlServer.Setup.Runtime/6.0.0-p05-00-develop-0049 to local CK.SqlServer.Setup.Runtime/6.0.0-p05-00-develop-0049/NetCoreApp20/.
                   +03.7451348   | | | | | Resolved required dependency -> CK.StObj.Runtime/6.0.0-p05-00-develop-0049 to local CK.StObj.Runtime/6.0.0-p05-00-develop-0049/NetCoreApp20/.
                   +03.7452227   | | | | | Resolved required dependency -> CKSetup.Runner/6.0.0-r09-00-develop-0055 to local CKSetup.Runner/6.0.0-r09-00-develop-0055/NetCoreApp20/.
                   +03.7485106 i | | | | < 
                   +03.7485325 i | | | | > Resolving dependencies.
                   +03.7500172   | | | | | Resolved required dependency -> CK.Setupable.Engine/6.0.0-p05-00-develop-0049 to local CK.Setupable.Engine/6.0.0-p05-00-develop-0049/NetCoreApp20/.
                   +03.7507726   | | | | | Resolved required dependency -> CK.SqlServer.Setup.Engine/6.0.0-p05-00-develop-0049 to local CK.SqlServer.Setup.Engine/6.0.0-p05-00-develop-0049/NetCoreApp20/.
                   +03.7508584   | | | | | Resolved required dependency -> CK.StObj.Engine/6.0.0-p05-00-develop-0049 to local CK.StObj.Engine/6.0.0-p05-00-develop-0049/NetCoreApp20/.
                   +03.7509110 i | | | | < 
                   +03.7662445 i | | | | > Selected 52 setup files.
                   +03.8125020 i | | | | < 
                   +03.8125203 i | | | < 
                   +03.8125319 i | | | > Copying files to 'C:\Dev\CK-Database-Projects\CK-DB\Tests\CK.DB.Acl.Tests\CKSetup-WorkingDir\2018-04-13 08h41.00.0606476\'.
                   +04.1544172 i | | | < 
                   +04.1548438 i | | | > Copying 19 files from bin folders.
                   +04.1799899 i | | | <  | 1 conclusion:
                                 | | |    | Skipped 6 file(s).
                   +04.1800171 i | | | > Generating CKSetup.Runner.Config.xml file.
                   +04.1845589 i | | | < 
                   +04.1866929 i | | | > Launching CKSetup.Runner process.
                   +04.2108965   | | | | > dotnet CKSetup.Runner.dll merge-deps /silent /logPipe:1984
                   +04.3940707 i | | | | | > Starting CKSetup.Runner - 6.0.0-rc.9.0.ci-develop.55 (6.0.0-r09-00-develop-0055) - SHA1: 33f3dae549f6c8e80766598e13c6c85668ad5968 - CommitDate: 2018-04-13 07:24:27Z
                   +04.4106863 i | | | | | | > Merging deps.json files.
                   +04.5844117 i | | | | | | | 'CK.DB.Acl.deps.json' - .NETStandard,Version=v2.0.
                   +04.5944339 i | | | | | | | 'CK.Setupable.Engine.deps.json' - .NETCoreApp,Version=v2.0.
                   +04.5983012 i | | | | | | | 'CK.Setupable.Runtime.deps.json' - .NETCoreApp,Version=v2.0.
                   +04.6035597 i | | | | | | | 'CK.SqlServer.Setup.Engine.deps.json' - .NETCoreApp,Version=v2.0.
                   +04.6084090 i | | | | | | | 'CK.SqlServer.Setup.Runtime.deps.json' - .NETCoreApp,Version=v2.0.
                   +04.6146365 i | | | | | | | 'CK.StObj.Engine.deps.json' - .NETCoreApp,Version=v2.0.
                   +04.6190516 i | | | | | | | 'CK.StObj.Runtime.deps.json' - .NETCoreApp,Version=v2.0.
                   +04.6294090 i | | | | | | | Merging 'CK.SqlServer.Setup.Engine.deps.json' - .NETCoreApp,Version=v2.0.
                   +04.6309700 i | | | | | | | Merging 'CK.SqlServer.Setup.Runtime.deps.json' - .NETCoreApp,Version=v2.0.
                   +04.6319392 i | | | | | | | Merging 'CK.Setupable.Engine.deps.json' - .NETCoreApp,Version=v2.0.
                   +04.6330446 i | | | | | | | Merging 'CK.Setupable.Runtime.deps.json' - .NETCoreApp,Version=v2.0.
                   +04.6340126 i | | | | | | | Merging 'CK.StObj.Engine.deps.json' - .NETCoreApp,Version=v2.0.
                   +04.6350090 i | | | | | | | Merging 'CK.StObj.Runtime.deps.json' - .NETCoreApp,Version=v2.0.
                   +04.6361018 i | | | | | | | Merging 'CK.DB.Acl.deps.json' - .NETStandard,Version=v2.0.
                   +04.6424439 i | | | | | | | Saving 'CKSetup.Runner.deps.json.merged'.
                   +04.8329277 i | | | | | | < 
                   +04.8475842 i | | | | | | No assembly load conflicts.
                   +04.9202047 i | | | | | < 
                   +04.9202266   | | | | < 
                   +05.0388123   | | | | > dotnet CKSetup.Runner.dll  /silent /logPipe:1956
                   +05.2677899 i | | | | | > Starting CKSetup.Runner - 6.0.0-rc.9.0.ci-develop.55 (6.0.0-r09-00-develop-0055) - SHA1: 33f3dae549f6c8e80766598e13c6c85668ad5968 - CommitDate: 2018-04-13 07:24:27Z
                   +05.3494987 i | | | | | | > Applying CKSetup configuration.
                   +05.3549036 i | | | | | | | Handling 1 BinPath(s).
                   +05.3577676 i | | | | | | < 
                   +05.3752578 i | | | | | | > Validating configuration.
                   +05.3906047 i | | | | | | < 
                   +05.4109000   | | | | | | > Creating and configuring 2 aspect(s).
                   +05.4608110   | | | | | | | > Configuring aspect 'CK.Setup.SetupableAspect'.
                   +05.4633041   | | | | | | | < 
                   +05.4745496   | | | | | | | > Configuring aspect 'CK.SqlServer.Setup.SqlSetupAspect'.
                   +05.4957526 i | | | | | | | | > Connection to Data Source=.;Initial Catalog=CKTEST_CK_DB_Acl;Integrated Security=True.
                   +05.8260055 i | | | | | | | | | Connected to database.
                   +05.8274700 i | | | | | | | | < 
                   +05.8285281 i | | | | | | | | Registering SqlVersionedItemReader on the default database as the version reader.
                   +05.8300119 i | | | | | | | | Registering SqlVersionedItemWriter on the default database as the version writer.
                   +05.8303087 i | | | | | | | | Registering SqlSetupSessionMemoryProvider on the default database as the memory provider.
                   +05.9141751   | | | | | | | < 
                   +05.9161755 i | | | | | | | > Executing initial 1 deferred actions.
                   +05.9182653 i | | | | | | | <  | 1 conclusion:
                                 | | | | | | |    | Executed 1 actions.
                   +05.9253089 i | | | | | | | No explicit ISimpleObjectActivator has been registered. Using a default SimpleObjectActivator.
                   +05.9253598   | | | | | | < 
                   +05.9298628 i | | | | | | > Building StObj objects.
                   +05.9557318 i | | | | | | | > Registering StObj types.
                   +05.9569541   | | | | | | | | > Registering 5 assemblies.
                   +05.9569947   | | | | | | | | | > Registering assembly 'CK.Setupable.Model'.
                   +05.9603683   | | | | | | | | | <  | 1 conclusion:
                                 | | | | | | | | |    | 16 types(s) registered.
                   +05.9608195   | | | | | | | | | > Registering assembly 'CK.SqlServer.Setup.Model'.
                   +05.9936458   | | | | | | | | | <  | 1 conclusion:
                                 | | | | | | | | |    | 43 types(s) registered.
                   +05.9937003   | | | | | | | | | > Registering assembly 'CK.StObj.Model'.
                   +05.9966777   | | | | | | | | | <  | 1 conclusion:
                                 | | | | | | | | |    | 22 types(s) registered.
                   +05.9967500   | | | | | | | | | > Registering assembly 'CK.DB.Acl'.
                   +06.0124181   | | | | | | | | | <  | 1 conclusion:
                                 | | | | | | | | |    | 4 types(s) registered.
                   +06.0124730   | | | | | | | | | > Registering assembly 'CK.DB.Actor'.
                   +06.0137055   | | | | | | | | | <  | 1 conclusion:
                                 | | | | | | | | |    | 6 types(s) registered.
                   +06.0137573   | | | | | | | | < 
                   +06.0166008   | | | | | | | | > Explicitely registering 0 type(s).
                   +06.0166927   | | | | | | | | < 
                   +06.0188731 i | | | | | | | < 
                   +06.0189030 i | | | | | | | > Resolving StObj dependency graph.
                   +06.0245552 i | | | | | | | | > Collecting all StObj information.
                   +06.0249206 i | | | | | | | | | > Collecting Ambient Contracts, Type structure and Poco.
                   +06.0291346 i | | | | | | | | | | > Creating Poco Types and PocoFactory.
                   +06.0661044 i | | | | | | | | | | < 
                   +06.1951471   | | | | | | | | | | > Ambient Contract discovering: 1 context(s).
                   +06.2018328   | | | | | | | | | | | > Ambient Contract for context '': 13 mappings for 11 concrete paths.
                   +06.2021340   | | | | | | | | | | | < 
                   +06.2021581   | | | | | | | | | | < 
                   +06.2021723 i | | | | | | | | | < 
                   +06.2098433 i | | | | | | | | | > Creating Structure Objects.
                   +06.2101236 i | | | | | | | | | | > Working on Context [].
                   +06.2401734 i | | | | | | | | | | <  | 1 conclusion:
                                 | | | | | | | | | |    | 11 items created for 11 types.
                   +06.2402256 i | | | | | | | | | <  | 1 conclusion:
                                 | | | | | | | | |    | 11 items created.
                   +06.2402524 i | | | | | | | | | > Handling dependencies.
                   +06.2412154 i | | | | | | | | | | > Working on Context [].
                   +06.2442361   | | | | | | | | | | | > Preparing '[]CK.SqlServer.Setup.SqlDefaultDatabase'.
                   +06.2577466   | | | | | | | | | | | <  | 1 conclusion:
                                 | | | | | | | | | | |    | ItemKind is Group
                   +06.2578100   | | | | | | | | | | | > Preparing '[]CK.DB.Acl.AclConfigMemoryTable'.
                   +06.2579778   | | | | | | | | | | | | > Preparing '[]CK.DB.Acl.Package'.
                   +06.2588689   | | | | | | | | | | | | <  | 1 conclusion:
                                 | | | | | | | | | | | |    | ItemKind is Container
                   +06.2675471   | | | | | | | | | | | <  | 1 conclusion:
                                 | | | | | | | | | | |    | ItemKind is Container
                   +06.2676278   | | | | | | | | | | | > Preparing '[]CK.DB.Acl.AclConfigTable'.
                   +06.2677734   | | | | | | | | | | | <  | 1 conclusion:
                                 | | | | | | | | | | |    | ItemKind is Container
                   +06.2678202   | | | | | | | | | | | > Preparing '[]CK.DB.Acl.AclTable'.
                   +06.2678783   | | | | | | | | | | | <  | 1 conclusion:
                                 | | | | | | | | | | |    | ItemKind is Container
                   +06.2679265   | | | | | | | | | | | > Preparing '[]CK.DB.Actor.ActorProfileTable'.
                   +06.2679947   | | | | | | | | | | | | > Preparing '[]CK.DB.Actor.Package'.
                   +06.2680572   | | | | | | | | | | | | <  | 1 conclusion:
                                 | | | | | | | | | | | |    | ItemKind is Container
                   +06.2681170   | | | | | | | | | | | <  | 1 conclusion:
                                 | | | | | | | | | | |    | ItemKind is Container
                   +06.2681554   | | | | | | | | | | | > Preparing '[]CK.DB.Actor.ActorTable'.
                   +06.2682147   | | | | | | | | | | | <  | 1 conclusion:
                                 | | | | | | | | | | |    | ItemKind is Container
                   +06.2682660   | | | | | | | | | | | > Preparing '[]CK.DB.Actor.GroupTable'.
                   +06.2683192   | | | | | | | | | | | <  | 1 conclusion:
                                 | | | | | | | | | | |    | ItemKind is Container
                   +06.2683611   | | | | | | | | | | | > Preparing '[]CK.DB.Actor.UserTable'.
                   +06.2684129   | | | | | | | | | | | <  | 1 conclusion:
                                 | | | | | | | | | | |    | ItemKind is Container
                   +06.2684611   | | | | | | | | | | | > Preparing '[]CK._g.poco.Factory'.
                   +06.2690581 W | | | | | | | | | | | | Since ItemKind is not specified on this base class ('[]CK._g.poco.Factory'), it defaults to SimpleItem. It should be explicitely set to either SimpleItem, Group or Container.
                   +06.2711701   | | | | | | | | | | | <  | 1 conclusion:
                                 | | | | | | | | | | |    | ItemKind is Item
                   +06.2712237 i | | | | | | | | | | < 
                   +06.2729730 i | | | | | | | | | | > Working on Context [].
                   +06.2925325 i | | | | | | | | | | < 
                   +06.3642837 i | | | | | | | | | < 
                   +06.3643319 i | | | | | | | | | > Initializing object graph.
                   +06.3727334   | | | | | | | | | | > Constructing '[]CK._g.poco.Factory'.
                   +06.3746777   | | | | | | | | | | < 
                   +06.3753430   | | | | | | | | | | > Constructing '[]CK.SqlServer.Setup.SqlDefaultDatabase'.
                   +06.3779527   | | | | | | | | | | < 
                   +06.3785310   | | | | | | | | | | > Constructing '[]CK.DB.Actor.Package'.
                   +06.3816030   | | | | | | | | | | < 
                   +06.3816489   | | | | | | | | | | > Constructing '[]CK.DB.Actor.ActorTable'.
                   +06.3818903   | | | | | | | | | | < 
                   +06.3840324   | | | | | | | | | | > Constructing '[]CK.DB.Actor.GroupTable'.
                   +06.3843300   | | | | | | | | | | < 
                   +06.3843831   | | | | | | | | | | > Constructing '[]CK.DB.Actor.UserTable'.
                   +06.3846589   | | | | | | | | | | < 
                   +06.3846999   | | | | | | | | | | > Constructing '[]CK.DB.Actor.ActorProfileTable'.
                   +06.3849619   | | | | | | | | | | < 
                   +06.3850074   | | | | | | | | | | > Constructing '[]CK.DB.Acl.Package'.
                   +06.3852359   | | | | | | | | | | < 
                   +06.3852810   | | | | | | | | | | > Constructing '[]CK.DB.Acl.AclTable'.
                   +06.3855166   | | | | | | | | | | < 
                   +06.3855697   | | | | | | | | | | > Constructing '[]CK.DB.Acl.AclConfigMemoryTable'.
                   +06.3859115   | | | | | | | | | | < 
                   +06.3859624   | | | | | | | | | | > Constructing '[]CK.DB.Acl.AclConfigTable'.
                   +06.3863153   | | | | | | | | | | < 
                   +06.3863399 i | | | | | | | | | | > Setting Ambient Contracts.
                   +06.3881534 i | | | | | | | | | | | > Working on Context [].
                   +06.3901688 i | | | | | | | | | | | < 
                   +06.3902152 i | | | | | | | | | | < 
                   +06.3905784 i | | | | | | | | | < 
                   +06.3906074 i | | | | | | | | < 
                   +06.3906582 i | | | | | | | < 
                   +06.3907136 i | | | | | | < 
                   +06.3938355 i | | | | | | > Running Aspects.
                   +06.3941921 i | | | | | | | > Aspect: CK.Setup.SetupableAspect.
                   +06.3985510 i | | | | | | | | > Creating Setup Items from Structured Objects.
                   +06.4035004 i | | | | | | | | | > Building setupable items from 11 Structure Objects (calling IStObjSetupConfigurator.ConfigureDependentItem and IStObjSetupItemFactory.CreateDependentItem for each of them).
                   +06.4409178 i | | | | | | | | | | SqlPackage 'CK.DB.Actor.Package' uses its own full name as its SetupName.
                   +06.4589181 i | | | | | | | | | | SqlTable 'CK.DB.Actor.ActorTable' uses 'CK.ActorTable' as its SetupName.
                   +06.4601581 i | | | | | | | | | | SqlTable 'CK.DB.Actor.GroupTable' uses 'CK.GroupTable' as its SetupName.
                   +06.4609123 i | | | | | | | | | | SqlTable 'CK.DB.Actor.UserTable' uses 'CK.UserTable' as its SetupName.
                   +06.4616204 i | | | | | | | | | | SqlTable 'CK.DB.Actor.ActorProfileTable' uses 'CK.ActorProfileTable' as its SetupName.
                   +06.4622229 i | | | | | | | | | | SqlPackage 'CK.DB.Acl.Package' uses its own full name as its SetupName.
                   +06.4628954 i | | | | | | | | | | SqlTable 'CK.DB.Acl.AclTable' uses 'CK.AclTable' as its SetupName.
                   +06.4634751 i | | | | | | | | | | SqlTable 'CK.DB.Acl.AclConfigMemoryTable' uses 'CK.AclConfigMemoryTable' as its SetupName.
                   +06.4639687 i | | | | | | | | | | SqlTable 'CK.DB.Acl.AclConfigTable' uses 'CK.AclConfigTable' as its SetupName.
                   +06.4642199 i | | | | | | | | | < 
                   +06.4674949 i | | | | | | | | | > Binding dependencies between Setupable items.
                   +06.4707096 i | | | | | | | | | < 
                   +06.4724050 i | | | | | | | | | > Dynamic initialization of Setup items.
                   +06.4860355 i | | | | | | | | | | > Executing 33 deferred actions.
                   +06.4867920 i | | | | | | | | | | | > Starting intialization round n°0.
                   +06.4919586 i | | | | | | | | | | | | > Handling: '[]db^CK.sActorCreate' in SqlObjectItem attribute of '[]db^CK.ActorTable'
                   +06.4939377   | | | | | | | | | | | | | > Loading '[]db^CK.sActorCreate' of '[]db^CK.ActorTable'.
                   +06.7258377   | | | | | | | | | | | | | <  | 1 conclusion:
                                 | | | | | | | | | | | | |    | Loaded Procedure from file 'sActorCreate.sql'.
                   +06.7259056 i | | | | | | | | | | | | < 
                   +06.7259569 i | | | | | | | | | | | | > Handling: '[]db^CK.vGroup' in SqlObjectItem attribute of '[]db^CK.GroupTable'
                   +06.7260176   | | | | | | | | | | | | | > Loading '[]db^CK.vGroup' of '[]db^CK.GroupTable'.
                   +06.7794694   | | | | | | | | | | | | | <  | 1 conclusion:
                                 | | | | | | | | | | | | |    | Loaded View from file 'vGroup.sql'.
                   +06.7795239 i | | | | | | | | | | | | < 
                   +06.7814281 i | | | | | | | | | | | | > Handling: 'sGroupCreate' in 'CreateGroupAsync' SqlProcedure attribute of '[]db^CK.GroupTable'
                   +06.7822626   | | | | | | | | | | | | | > Loading '[]db^CK.sGroupCreate' of '[]db^CK.GroupTable'.
                   +06.8070382   | | | | | | | | | | | | | <  | 1 conclusion:
                                 | | | | | | | | | | | | |    | Loaded Procedure from file 'sGroupCreate.sql'.
                   +06.8071043 i | | | | | | | | | | | | < 
                   +06.8071833 i | | | | | | | | | | | | > Handling: 'sGroupDestroy' in 'DestroyGroupAsync' SqlProcedure attribute of '[]db^CK.GroupTable'
                   +06.8073528   | | | | | | | | | | | | | > Loading '[]db^CK.sGroupDestroy' of '[]db^CK.GroupTable'.
                   +06.8197116   | | | | | | | | | | | | | <  | 1 conclusion:
                                 | | | | | | | | | | | | |    | Loaded Procedure from file 'sGroupDestroy.sql'.
                   +06.8197795 i | | | | | | | | | | | | < 
                   +06.8198049 i | | | | | | | | | | | | > Handling: 'sGroupUserAdd' in 'AddUserAsync' SqlProcedure attribute of '[]db^CK.GroupTable'
                   +06.8198455   | | | | | | | | | | | | | > Loading '[]db^CK.sGroupUserAdd' of '[]db^CK.GroupTable'.
                   +06.8242969   | | | | | | | | | | | | | <  | 1 conclusion:
                                 | | | | | | | | | | | | |    | Loaded Procedure from file 'sGroupUserAdd.sql'.
                   +06.8243509 i | | | | | | | | | | | | < 
                   +06.8243821 i | | | | | | | | | | | | > Handling: 'sGroupUserRemove' in 'RemoveUserAsync' SqlProcedure attribute of '[]db^CK.GroupTable'
                   +06.8244642   | | | | | | | | | | | | | > Loading '[]db^CK.sGroupUserRemove' of '[]db^CK.GroupTable'.
                   +06.8259912   | | | | | | | | | | | | | <  | 1 conclusion:
                                 | | | | | | | | | | | | |    | Loaded Procedure from file 'sGroupUserRemove.sql'.
                   +06.8260331 i | | | | | | | | | | | | < 
                   +06.8260568 i | | | | | | | | | | | | > Handling: 'sGroupRemoveAllUsers' in 'RemoveAllUsersAsync' SqlProcedure attribute of '[]db^CK.GroupTable'
                   +06.8261014   | | | | | | | | | | | | | > Loading '[]db^CK.sGroupRemoveAllUsers' of '[]db^CK.GroupTable'.
                   +06.8509578   | | | | | | | | | | | | | <  | 1 conclusion:
                                 | | | | | | | | | | | | |    | Loaded Procedure from file 'sGroupRemoveAllUsers.sql'.
                   +06.8510172 i | | | | | | | | | | | | < 
                   +06.8510529 i | | | | | | | | | | | | > Handling: '[]db^CK.vUser' in SqlObjectItem attribute of '[]db^CK.UserTable'
                   +06.8512046   | | | | | | | | | | | | | > Loading '[]db^CK.vUser' of '[]db^CK.UserTable'.
                   +06.8518423   | | | | | | | | | | | | | <  | 1 conclusion:
                                 | | | | | | | | | | | | |    | Loaded View from file 'vUser.sql'.
                   +06.8518834 i | | | | | | | | | | | | < 
                   +06.8519302 i | | | | | | | | | | | | > Handling: 'sUserCreate' in 'CreateUserAsync' SqlProcedure attribute of '[]db^CK.UserTable'
                   +06.8520427   | | | | | | | | | | | | | > Loading '[]db^CK.sUserCreate' of '[]db^CK.UserTable'.
                   +06.8564008   | | | | | | | | | | | | | <  | 1 conclusion:
                                 | | | | | | | | | | | | |    | Loaded Procedure from file 'sUserCreate.sql'.
                   +06.8564557 i | | | | | | | | | | | | < 
                   +06.8564860 i | | | | | | | | | | | | > Handling: 'sUserUserNameSet' in 'UserNameSetAsync' SqlProcedure attribute of '[]db^CK.UserTable'
                   +06.8567787   | | | | | | | | | | | | | > Loading '[]db^CK.sUserUserNameSet' of '[]db^CK.UserTable'.
                   +06.8627393   | | | | | | | | | | | | | <  | 1 conclusion:
                                 | | | | | | | | | | | | |    | Loaded Procedure from file 'sUserUserNameSet.sql'.
                   +06.8627977 i | | | | | | | | | | | | < 
                   +06.8628281 i | | | | | | | | | | | | > Handling: 'sUserDestroy' in 'DestroyUserAsync' SqlProcedure attribute of '[]db^CK.UserTable'
                   +06.8628790   | | | | | | | | | | | | | > Loading '[]db^CK.sUserDestroy' of '[]db^CK.UserTable'.
                   +06.8635724   | | | | | | | | | | | | | <  | 1 conclusion:
                                 | | | | | | | | | | | | |    | Loaded Procedure from file 'sUserDestroy.sql'.
                   +06.8636116 i | | | | | | | | | | | | < 
                   +06.8636299 i | | | | | | | | | | | | > Handling: 'sUserRemoveFromAllGroups' in 'RemoveFromAllGroupsAsync' SqlProcedure attribute of '[]db^CK.UserTable'
                   +06.8636737   | | | | | | | | | | | | | > Loading '[]db^CK.sUserRemoveFromAllGroups' of '[]db^CK.UserTable'.
                   +06.8643569   | | | | | | | | | | | | | <  | 1 conclusion:
                                 | | | | | | | | | | | | |    | Loaded Procedure from file 'sUserRemoveFromAllGroups.sql'.
                   +06.8643966 i | | | | | | | | | | | | < 
                   +06.8644305 i | | | | | | | | | | | | > Handling: '[]db^CK.DB.Acl.Package([]db^CK.sGroupDestroy)' in SqlObjectItem attribute of '[]db^CK.DB.Acl.Package'
                   +06.8644769   | | | | | | | | | | | | | > Loading '[]db^CK.DB.Acl.Package([]db^CK.sGroupDestroy)' of '[]db^CK.DB.Acl.Package'.
                   +06.8870160   | | | | | | | | | | | | | <  | 1 conclusion:
                                 | | | | | | | | | | | | |    | Loaded Transformer from file 'sGroupDestroy.tql'.
                   +06.8870713 i | | | | | | | | | | | | < 
                   +06.8870954 i | | | | | | | | | | | | > Handling: '[]db^CK.DB.Acl.Package([]db^CK.sUserDestroy)' in SqlObjectItem attribute of '[]db^CK.DB.Acl.Package'
                   +06.8871374   | | | | | | | | | | | | | > Loading '[]db^CK.DB.Acl.Package([]db^CK.sUserDestroy)' of '[]db^CK.DB.Acl.Package'.
                   +06.8876612   | | | | | | | | | | | | | <  | 1 conclusion:
                                 | | | | | | | | | | | | |    | Loaded Transformer from file 'sUserDestroy.tql'.
                   +06.8877063 i | | | | | | | | | | | | < 
                   +06.8877349 i | | | | | | | | | | | | > Handling: '[]db^CK.vAclActorReason' in SqlObjectItem attribute of '[]db^CK.AclTable'
                   +06.8877876   | | | | | | | | | | | | | > Loading '[]db^CK.vAclActorReason' of '[]db^CK.AclTable'.
                   +06.9168021   | | | | | | | | | | | | | <  | 1 conclusion:
                                 | | | | | | | | | | | | |    | Loaded View from file 'vAclActorReason.sql'.
                   +06.9168512 i | | | | | | | | | | | | < 
                   +06.9168820 i | | | | | | | | | | | | > Handling: '[]db^CK.vAclActor' in SqlObjectItem attribute of '[]db^CK.AclTable'
                   +06.9169248   | | | | | | | | | | | | | > Loading '[]db^CK.vAclActor' of '[]db^CK.AclTable'.
                   +06.9201980   | | | | | | | | | | | | | <  | 1 conclusion:
                                 | | | | | | | | | | | | |    | Loaded View from file 'vAclActor.sql'.
                   +06.9202449 i | | | | | | | | | | | | < 
                   +06.9202730 i | | | | | | | | | | | | > Handling: 'sAclCreate' in 'CreateAclAsync' SqlProcedure attribute of '[]db^CK.AclTable'
                   +06.9203283   | | | | | | | | | | | | | > Loading '[]db^CK.sAclCreate' of '[]db^CK.AclTable'.
                   +06.9209023   | | | | | | | | | | | | | <  | 1 conclusion:
                                 | | | | | | | | | | | | |    | Loaded Procedure from file 'sAclCreate.sql'.
                   +06.9209411 i | | | | | | | | | | | | < 
                   +06.9209598 i | | | | | | | | | | | | > Handling: 'sAclDestroy' in 'DestroyAclAsync' SqlProcedure attribute of '[]db^CK.AclTable'
                   +06.9210977   | | | | | | | | | | | | | > Loading '[]db^CK.sAclDestroy' of '[]db^CK.AclTable'.
                   +06.9214565   | | | | | | | | | | | | | <  | 1 conclusion:
                                 | | | | | | | | | | | | |    | Loaded Procedure from file 'sAclDestroy.sql'.
                   +06.9214926 i | | | | | | | | | | | | < 
                   +06.9215136 i | | | | | | | | | | | | > Handling: 'sAclGrantSet' in 'AclGrantSetAsync' SqlProcedure attribute of '[]db^CK.AclTable'
                   +06.9215533   | | | | | | | | | | | | | > Loading '[]db^CK.sAclGrantSet' of '[]db^CK.AclTable'.
                   +06.9290936   | | | | | | | | | | | | | <  | 1 conclusion:
                                 | | | | | | | | | | | | |    | Loaded Procedure from file 'sAclGrantSet.sql'.
                   +06.9291418 i | | | | | | | | | | | | < 
                   +06.9291717 i | | | | | | | | | | | | > Handling: 'fAclGrantLevel' in 'GetGrantLevelAsync' SqlScalarFunction attribute of '[]db^CK.AclTable'
                   +06.9292176   | | | | | | | | | | | | | > Loading '[]db^CK.fAclGrantLevel' of '[]db^CK.AclTable'.
                   +06.9392118   | | | | | | | | | | | | | <  | 1 conclusion:
                                 | | | | | | | | | | | | |    | Loaded Function from file 'fAclGrantLevel.sql'.
                   +06.9392617 i | | | | | | | | | | | | < 
                   +06.9392903 i | | | | | | | | | | | | > Handling: '[]db^CK.vAclConfigMemory' in SqlObjectItem attribute of '[]db^CK.AclConfigMemoryTable'
                   +06.9393340   | | | | | | | | | | | | | > Loading '[]db^CK.vAclConfigMemory' of '[]db^CK.AclConfigMemoryTable'.
                   +06.9397299   | | | | | | | | | | | | | <  | 1 conclusion:
                                 | | | | | | | | | | | | |    | Loaded View from file 'vAclConfigMemory.sql'.
                   +06.9397696 i | | | | | | | | | | | | < 
                   +06.9397919 i | | | | | | | | | | | | > Handling: '[]db^CK.vAclConfig' in SqlObjectItem attribute of '[]db^CK.AclConfigTable'
                   +06.9398379   | | | | | | | | | | | | | > Loading '[]db^CK.vAclConfig' of '[]db^CK.AclConfigTable'.
                   +06.9401101   | | | | | | | | | | | | | <  | 1 conclusion:
                                 | | | | | | | | | | | | |    | Loaded View from file 'vAclConfig.sql'.
                   +06.9401453 i | | | | | | | | | | | | < 
                   +06.9401676 i | | | | | | | | | | | < 
                   +06.9401819 i | | | | | | | | | | < 
                   +06.9401966 i | | | | | | | | | < 
                   +06.9406621 i | | | | | | | | < 
                   +06.9436144   | | | | | | | | > Installing CKCore kernel.
                   +07.0539499   | | | | | | | | <  | 1 conclusion:
                                 | | | | | | | |    | Already installed in version 15.
                   +07.0966884 i | | | | | | | | > Reading original versions.
                   +07.0993212   | | | | | | | | | > Installing SqlVersionedItemRepository store.
                   +07.1112284   | | | | | | | | | <  | 1 conclusion:
                                 | | | | | | | | |    | Already installed in version 1.
                   +07.1301297 i | | | | | | | | <  | 1 conclusion:
                                 | | | | | | | |    | Got 18 versions.
                   +07.1339808 i | | | | | | | | > Setupable Core Engine initialization.
                   +07.1342459 i | | | | | | | | | Starting a new setup.
                   +07.1379123 i | | | | | | | | < 
                   +07.1379493 i | | | | | | | | > Register step.
                   +07.1873208 i | | | | | | | | | > Instanciating drivers for 66 items.
                   +07.2136458 i | | | | | | | | | < 
                   +07.2141407 i | | | | | | | | | > Calling PreInit on 66 drivers.
                   +07.2269859 i | | | | | | | | | | 0 sql scripts in resource found for 'CK.ActorTable' in 'CK.DB.Actor:CK.DB.Actor.Res.*.
                   +07.2379314 i | | | | | | | | | | 1 sql scripts in resource found for 'Model.CK.ActorTable' in 'CK.DB.Actor:CK.DB.Actor.Res.*.
                   +07.2469796 i | | | | | | | | | | 0 sql scripts in resource found for 'CK.GroupTable' in 'CK.DB.Actor:CK.DB.Actor.Res.*.
                   +07.2471375 i | | | | | | | | | | 2 sql scripts in resource found for 'Model.CK.GroupTable' in 'CK.DB.Actor:CK.DB.Actor.Res.*.
                   +07.2473370 i | | | | | | | | | | 0 sql scripts in resource found for 'CK.UserTable' in 'CK.DB.Actor:CK.DB.Actor.Res.*.
                   +07.2474794 i | | | | | | | | | | 5 sql scripts in resource found for 'Model.CK.UserTable' in 'CK.DB.Actor:CK.DB.Actor.Res.*.
                   +07.2476802 i | | | | | | | | | | 0 sql scripts in resource found for 'CK.ActorProfileTable' in 'CK.DB.Actor:CK.DB.Actor.Res.*.
                   +07.2477922 i | | | | | | | | | | 1 sql scripts in resource found for 'Model.CK.ActorProfileTable' in 'CK.DB.Actor:CK.DB.Actor.Res.*.
                   +07.2479560 i | | | | | | | | | | 0 sql scripts in resource found for 'CK.DB.Actor.Package' in 'CK.DB.Actor:CK.DB.Actor.Res.*.
                   +07.2480194 i | | | | | | | | | | 0 sql scripts in resource found for 'Model.CK.DB.Actor.Package' in 'CK.DB.Actor:CK.DB.Actor.Res.*.
                   +07.2482336 i | | | | | | | | | | 0 sql scripts in resource found for 'CK.AclTable' in 'CK.DB.Acl:CK.DB.Acl.Res.*.
                   +07.2483407 i | | | | | | | | | | 1 sql scripts in resource found for 'Model.CK.AclTable' in 'CK.DB.Acl:CK.DB.Acl.Res.*.
                   +07.2488360 i | | | | | | | | | | 0 sql scripts in resource found for 'CK.AclConfigMemoryTable' in 'CK.DB.Acl:CK.DB.Acl.Res.*.
                   +07.2491050 i | | | | | | | | | | 2 sql scripts in resource found for 'Model.CK.AclConfigMemoryTable' in 'CK.DB.Acl:CK.DB.Acl.Res.*.
                   +07.2494451 i | | | | | | | | | | 0 sql scripts in resource found for 'CK.AclConfigTable' in 'CK.DB.Acl:CK.DB.Acl.Res.*.
                   +07.2495455 i | | | | | | | | | | 1 sql scripts in resource found for 'Model.CK.AclConfigTable' in 'CK.DB.Acl:CK.DB.Acl.Res.*.
                   +07.2496990 i | | | | | | | | | | 0 sql scripts in resource found for 'CK.DB.Acl.Package' in 'CK.DB.Acl:CK.DB.Acl.Res.*.
                   +07.2497615 i | | | | | | | | | | 0 sql scripts in resource found for 'Model.CK.DB.Acl.Package' in 'CK.DB.Acl:CK.DB.Acl.Res.*.
                   +07.2501448 i | | | | | | | | | < 
                   +07.2501720 i | | | | | | | | <  | 1 conclusion:
                                 | | | | | | | |    | 66 Setup items registered.
                   +07.2502006 i | | | | | | | | > Init step.
                   +07.2516835   | | | | | | | | | > Raising Init setup event.
                   +07.2517259   | | | | | | | | | < 
                   +07.2517446 i | | | | | | | | | > Initializing []CK._g.poco.Factory
                   +07.2535202 i | | | | | | | | | < 
                   +07.2535408 i | | | | | | | | | > Initializing []db^SqlDatabase.Connection
                   +07.2595129   | | | | | | | | | | if not exists(select 1 from sys.schemas where name = 'CK') begin exec( 'create schema [CK]' ); end
                   +07.2597717   | | | | | | | | | | GO
                   +07.2685173   | | | | | | | | | | -- Ensure that snapshot_isolation and read_committed_snapshot are on for this db.
                                 | | | | | | | | | |   declare @dbName sysname = DB_NAME();
                                 | | | | | | | | | |   declare @dbNameQ sysname = QUOTENAME(@dbName);
                                 | | | | | | | | | |   declare @isSingleUser bit = 0;
                                 | | | | | | | | | |   declare @isRCSEnabled int;
                                 | | | | | | | | | |   select @isRCSEnabled = is_read_committed_snapshot_on from sys.databases where name = @dbName;
                                 | | | | | | | | | |   if @isRCSEnabled = 0
                                 | | | | | | | | | |   begin
                                 | | | | | | | | | |       exec( 'alter database '+@dbNameQ+' set single_user with rollback immediate;' );
                                 | | | | | | | | | |       set @isSingleUser = 1;
                                 | | | | | | | | | |       exec( 'alter database '+@dbNameQ+' set read_committed_snapshot on;' );
                                 | | | | | | | | | |   end;
                                 | | | | | | | | | |    
                                 | | | | | | | | | |   declare @isSIEnabled int;
                                 | | | | | | | | | |   select @isSIEnabled = snapshot_isolation_state from sys.databases where name = @dbName;
                                 | | | | | | | | | |   if @isSIEnabled = 0
                                 | | | | | | | | | |   begin
                                 | | | | | | | | | |       if @isSingleUser = 0 exec ('alter database ' + @dbNameQ + ' set single_user with rollback immediate;');
                                 | | | | | | | | | |       exec( 'alter database '+@dbNameQ+' set allow_snapshot_isolation on;' );
                                 | | | | | | | | | |   end;
                                 | | | | | | | | | |    
                                 | | | | | | | | | |   if @isSingleUser = 1 exec( 'alter database '+@dbNameQ+' set multi_user;' );
                   +07.2686538   | | | | | | | | | | GO
                   +07.3661120 i | | | | | | | | | < 
                   +07.3661539 i | | | | | | | | | > Initializing []db^Model.SqlDatabase.Head
                   +07.3666551 i | | | | | | | | | < 
                   +07.3666819 i | | | | | | | | | > Initializing []db^Model.CK.DB.Actor.Package.Head
                   +07.3667265 i | | | | | | | | | < 
                   +07.3667452 i | | | | | | | | | > Initializing []db^Model.CK.ActorTable.Head
                   +07.3667787 i | | | | | | | | | < 
                   +07.3667966 i | | | | | | | | | > Initializing []db^Model.CK.ActorTable
                   +07.3670938 i | | | | | | | | | < 
                   +07.3671187 i | | | | | | | | | > Initializing []db^Model.CK.GroupTable.Head
                   +07.3671656 i | | | | | | | | | < 
                   +07.3671830 i | | | | | | | | | > Initializing []db^Model.CK.UserTable.Head
                   +07.3672308 i | | | | | | | | | < 
                   +07.3672459 i | | | | | | | | | > Initializing []db^Model.CK.GroupTable
                   +07.3672906 i | | | | | | | | | < 
                   +07.3673035 i | | | | | | | | | > Initializing []db^Model.CK.UserTable
                   +07.3673481 i | | | | | | | | | < 
                   +07.3673624 i | | | | | | | | | > Initializing []db^Model.CK.ActorProfileTable.Head
                   +07.3674043 i | | | | | | | | | < 
                   +07.3674173 i | | | | | | | | | > Initializing []db^Model.CK.ActorProfileTable
                   +07.3674655 i | | | | | | | | | < 
                   +07.3674855 i | | | | | | | | | > Initializing []db^Model.CK.DB.Actor.Package
                   +07.3675479 i | | | | | | | | | < 
                   +07.3675622 i | | | | | | | | | > Initializing []db^Model.CK.DB.Acl.Package.Head
                   +07.3676028 i | | | | | | | | | < 
                   +07.3676180 i | | | | | | | | | > Initializing []db^Model.CK.AclTable.Head
                   +07.3676738 i | | | | | | | | | < 
                   +07.3676907 i | | | | | | | | | > Initializing []db^Model.CK.AclTable
                   +07.3677318 i | | | | | | | | | < 
                   +07.3677581 i | | | | | | | | | > Initializing []db^Model.CK.AclConfigMemoryTable.Head
                   +07.3677974 i | | | | | | | | | < 
                   +07.3678117 i | | | | | | | | | > Initializing []db^Model.CK.AclConfigMemoryTable
                   +07.3678501 i | | | | | | | | | < 
                   +07.3678630 i | | | | | | | | | > Initializing []db^Model.CK.AclConfigTable.Head
                   +07.3678978 i | | | | | | | | | < 
                   +07.3679125 i | | | | | | | | | > Initializing []db^Model.CK.AclConfigTable
                   +07.3679482 i | | | | | | | | | < 
                   +07.3679665 i | | | | | | | | | > Initializing []db^Model.CK.DB.Acl.Package
                   +07.3680013 i | | | | | | | | | < 
                   +07.3680170 i | | | | | | | | | > Initializing []db^Model.SqlDatabase
                   +07.3680527 i | | | | | | | | | < 
                   +07.3680674 i | | | | | | | | | > Initializing []db^SqlDatabase.Head
                   +07.3681062 i | | | | | | | | | < 
                   +07.3681209 i | | | | | | | | | > Initializing []db^CK.DB.Actor.Package.Head
                   +07.3681580 i | | | | | | | | | < 
                   +07.3681718 i | | | | | | | | | > Initializing []db^CK.ActorTable.Head
                   +07.3682079 i | | | | | | | | | < 
                   +07.3682213 i | | | | | | | | | > Initializing []db^CK.sActorCreate
                   +07.3682575 i | | | | | | | | | < 
                   +07.3682709 i | | | | | | | | | > Initializing []db^CK.ActorTable
                   +07.3683101 i | | | | | | | | | < 
                   +07.3683249 i | | | | | | | | | > Initializing []db^CK.GroupTable.Head
                   +07.3683615 i | | | | | | | | | < 
                   +07.3683753 i | | | | | | | | | > Initializing []db^CK.UserTable.Head
                   +07.3684137 i | | | | | | | | | < 
                   +07.3684279 i | | | | | | | | | > Initializing []db^CK.sGroupCreate
                   +07.3684668 i | | | | | | | | | < 
                   +07.3684895 i | | | | | | | | | > Initializing []db^CK.sGroupUserAdd
                   +07.3685342 i | | | | | | | | | < 
                   +07.3685489 i | | | | | | | | | > Initializing []db^CK.sGroupUserRemove
                   +07.3685828 i | | | | | | | | | < 
                   +07.3685975 i | | | | | | | | | > Initializing []db^CK.sUserCreate
                   +07.3686350 i | | | | | | | | | < 
                   +07.3686497 i | | | | | | | | | > Initializing []db^CK.sUserUserNameSet
                   +07.3686863 i | | | | | | | | | < 
                   +07.3687002 i | | | | | | | | | > Initializing []db^CK.vGroup
                   +07.3687372 i | | | | | | | | | < 
                   +07.3687671 i | | | | | | | | | > Initializing []db^CK.vUser
                   +07.3688099 i | | | | | | | | | < 
                   +07.3688242 i | | | | | | | | | > Initializing []db^CK.sGroupRemoveAllUsers
                   +07.3688599 i | | | | | | | | | < 
                   +07.3688764 i | | | | | | | | | > Initializing []db^CK.sUserRemoveFromAllGroups
                   +07.3689193 i | | | | | | | | | < 
                   +07.3689434 i | | | | | | | | | > Initializing []db^CK.sGroupDestroy
                   +07.3689773 i | | | | | | | | | < 
                   +07.3689938 i | | | | | | | | | > Initializing []db^CK.sUserDestroy
                   +07.3690255 i | | | | | | | | | < 
                   +07.3690398 i | | | | | | | | | > Initializing []db^CK.GroupTable
                   +07.3690732 i | | | | | | | | | < 
                   +07.3690875 i | | | | | | | | | > Initializing []db^CK.UserTable
                   +07.3691228 i | | | | | | | | | < 
                   +07.3691357 i | | | | | | | | | > Initializing []db^CK.ActorProfileTable.Head
                   +07.3691701 i | | | | | | | | | < 
                   +07.3691835 i | | | | | | | | | > Initializing []db^CK.ActorProfileTable
                   +07.3692169 i | | | | | | | | | < 
                   +07.3692317 i | | | | | | | | | > Initializing []db^CK.DB.Actor.Package
                   +07.3692607 i | | | | | | | | | < 
                   +07.3692781 i | | | | | | | | | > Initializing []db^CK.DB.Acl.Package.Head
                   +07.3693124 i | | | | | | | | | < 
                   +07.3693267 i | | | | | | | | | > Initializing []db^CK.AclTable.Head
                   +07.3693593 i | | | | | | | | | < 
                   +07.3693771 i | | | | | | | | | > Initializing []db^CK.DB.Acl.Package([]db^CK.sGroupDestroy)
                   +07.3694106 i | | | | | | | | | < 
                   +07.3694276 i | | | | | | | | | > Initializing []db^CK.DB.Acl.Package([]db^CK.sUserDestroy)
                   +07.3694619 i | | | | | | | | | < 
                   +07.3694851 i | | | | | | | | | > Initializing []db^CK.fAclGrantLevel
                   +07.3695199 i | | | | | | | | | < 
                   +07.3695369 i | | | | | | | | | > Initializing []db^CK.sAclCreate
                   +07.3695699 i | | | | | | | | | < 
                   +07.3695860 i | | | | | | | | | > Initializing []db^CK.sAclDestroy
                   +07.3696168 i | | | | | | | | | < 
                   +07.3696311 i | | | | | | | | | > Initializing []db^CK.sAclGrantSet
                   +07.3696645 i | | | | | | | | | < 
                   +07.3696793 i | | | | | | | | | > Initializing []db^CK.sGroupDestroy#transform
                   +07.3697132 i | | | | | | | | | < 
                   +07.3697266 i | | | | | | | | | > Initializing []db^CK.sUserDestroy#transform
                   +07.3697596 i | | | | | | | | | < 
                   +07.3697730 i | | | | | | | | | > Initializing []db^CK.vAclActor
                   +07.3698078 i | | | | | | | | | < 
                   +07.3698221 i | | | | | | | | | > Initializing []db^CK.vAclActorReason
                   +07.3698573 i | | | | | | | | | < 
                   +07.3698818 i | | | | | | | | | > Initializing []db^CK.AclTable
                   +07.3699171 i | | | | | | | | | < 
                   +07.3699376 i | | | | | | | | | > Initializing []db^CK.AclConfigMemoryTable.Head
                   +07.3699724 i | | | | | | | | | < 
                   +07.3699889 i | | | | | | | | | > Initializing []db^CK.vAclConfigMemory
                   +07.3700251 i | | | | | | | | | < 
                   +07.3700421 i | | | | | | | | | > Initializing []db^CK.AclConfigMemoryTable
                   +07.3700742 i | | | | | | | | | < 
                   +07.3700902 i | | | | | | | | | > Initializing []db^CK.AclConfigTable.Head
                   +07.3701259 i | | | | | | | | | < 
                   +07.3701425 i | | | | | | | | | > Initializing []db^CK.vAclConfig
                   +07.3701764 i | | | | | | | | | < 
                   +07.3701924 i | | | | | | | | | > Initializing []db^CK.AclConfigTable
                   +07.3702246 i | | | | | | | | | < 
                   +07.3702393 i | | | | | | | | | > Initializing []db^CK.DB.Acl.Package
                   +07.3702732 i | | | | | | | | | < 
                   +07.3702920 i | | | | | | | | | > Initializing []db^SqlDatabase
                   +07.3703245 i | | | | | | | | | < 
                   +07.3703446 i | | | | | | | | < 
                   +07.3703575 i | | | | | | | | > Install step.
                   +07.3720069   | | | | | | | | | > Raising Install setup event.
                   +07.3720569   | | | | | | | | | < 
                   +07.3732145 i | | | | | | | | | > Installing []CK._g.poco.Factory (unversioned).
                   +07.3748807 i | | | | | | | | | < 
                   +07.3749079 i | | | | | | | | | > Installing []db^SqlDatabase.Connection (unversioned).
                   +07.3749632 i | | | | | | | | | < 
                   +07.3749793 i | | | | | | | | | > Installing []db^Model.SqlDatabase.Head (unversioned).
                   +07.3752850 i | | | | | | | | | < 
                   +07.3755323 i | | | | | | | | | > Installing []db^Model.CK.DB.Actor.Package.Head (= 5.0.0 =).
                   +07.3755729 i | | | | | | | | | < 
                   +07.3756005 i | | | | | | | | | > Installing []db^Model.CK.ActorTable.Head (= 5.0.0 =).
                   +07.3756367 i | | | | | | | | | < 
                   +07.3756541 i | | | | | | | | | > Installing []db^Model.CK.ActorTable (= 5.0.0 =).
                   +07.3758759 i | | | | | | | | | < 
                   +07.3759004 i | | | | | | | | | > Installing []db^Model.CK.GroupTable.Head (= 5.0.1 =).
                   +07.3759388 i | | | | | | | | | < 
                   +07.3759544 i | | | | | | | | | > Installing []db^Model.CK.UserTable.Head (= 5.0.3 =).
                   +07.3760071 i | | | | | | | | | < 
                   +07.3760200 i | | | | | | | | | > Installing []db^Model.CK.GroupTable (= 5.0.1 =).
                   +07.3760539 i | | | | | | | | | < 
                   +07.3760695 i | | | | | | | | | > Installing []db^Model.CK.UserTable (= 5.0.3 =).
                   +07.3760999 i | | | | | | | | | < 
                   +07.3761160 i | | | | | | | | | > Installing []db^Model.CK.ActorProfileTable.Head (= 5.0.0 =).
                   +07.3761463 i | | | | | | | | | < 
                   +07.3761615 i | | | | | | | | | > Installing []db^Model.CK.ActorProfileTable (= 5.0.0 =).
                   +07.3761985 i | | | | | | | | | < 
                   +07.3762128 i | | | | | | | | | > Installing []db^Model.CK.DB.Actor.Package (= 5.0.0 =).
                   +07.3762530 i | | | | | | | | | < 
                   +07.3762695 i | | | | | | | | | > Installing []db^Model.CK.DB.Acl.Package.Head (= 1.0.0 =).
                   +07.3762994 i | | | | | | | | | < 
                   +07.3763105 i | | | | | | | | | > Installing []db^Model.CK.AclTable.Head (= 3.0.0 =).
                   +07.3763502 i | | | | | | | | | < 
                   +07.3763725 i | | | | | | | | | > Installing []db^Model.CK.AclTable (= 3.0.0 =).
                   +07.3764029 i | | | | | | | | | < 
                   +07.3764140 i | | | | | | | | | > Installing []db^Model.CK.AclConfigMemoryTable.Head (= 1.0.1 =).
                   +07.3764636 i | | | | | | | | | < 
                   +07.3764823 i | | | | | | | | | > Installing []db^Model.CK.AclConfigMemoryTable (= 1.0.1 =).
                   +07.3765273 i | | | | | | | | | < 
                   +07.3765564 i | | | | | | | | | > Installing []db^Model.CK.AclConfigTable.Head (= 1.0.0 =).
                   +07.3765961 i | | | | | | | | | < 
                   +07.3766077 i | | | | | | | | | > Installing []db^Model.CK.AclConfigTable (= 1.0.0 =).
                   +07.3766443 i | | | | | | | | | < 
                   +07.3766643 i | | | | | | | | | > Installing []db^Model.CK.DB.Acl.Package (= 1.0.0 =).
                   +07.3767050 i | | | | | | | | | < 
                   +07.3767175 i | | | | | | | | | > Installing []db^Model.SqlDatabase (unversioned).
                   +07.3767563 i | | | | | | | | | < 
                   +07.3767799 i | | | | | | | | | > Installing []db^SqlDatabase.Head (unversioned).
                   +07.3768161 i | | | | | | | | | < 
                   +07.3768312 i | | | | | | | | | > Installing []db^CK.DB.Actor.Package.Head (= 5.0.0 =).
                   +07.3768763 i | | | | | | | | | < 
                   +07.3768910 i | | | | | | | | | > Installing []db^CK.ActorTable.Head (= 5.0.0 =).
                   +07.3769151 i | | | | | | | | | < 
                   +07.3769258 i | | | | | | | | | > Installing []db^CK.sActorCreate (unversioned).
                   +07.3888826   | | | | | | | | | | if OBJECT_ID('CK.sActorCreate') is not null drop Procedure CK.sActorCreate;
                   +07.3889379   | | | | | | | | | | GO
                   +07.4288914   | | | | | | | | | | -- SetupConfig: {}
                                 | | | | | | | | | |   create procedure CK.sActorCreate 
                                 | | | | | | | | | |   (
                                 | | | | | | | | | |   	@ActorId int,
                                 | | | | | | | | | |   	@ActorIdResult int output
                                 | | | | | | | | | |   )
                                 | | | | | | | | | |   as
                                 | | | | | | | | | |   begin
                                 | | | | | | | | | |   --[=beginsp]
                                 | | | | | | | | | |   set nocount on; declare @SPCallTC int = @@TRANCOUNT, @SPCallId sysname; 
                                 | | | | | | | | | |   beginsp: if @SPCallTC = 0 begin tran; else begin set @SPCallId = cast(32*cast(@@PROCID as bigint)+@@NESTLEVEL as varchar); save transaction @SPCallId; end begin try
                                 | | | | | | | | | |   --[=/beginsp]
                                 | | | | | | | | | |   --<PreCreate revert />
                                 | | | | | | | | | |   
                                 | | | | | | | | | |   	insert into CK.tActor default values;
                                 | | | | | | | | | |   	set @ActorIdResult = SCOPE_IDENTITY();
                                 | | | | | | | | | |   
                                 | | | | | | | | | |   	-- The actor is in its own group.
                                 | | | | | | | | | |   	insert into CK.tActorProfile( ActorId, GroupId ) values( @ActorIdResult, @ActorIdResult );
                                 | | | | | | | | | |   
                                 | | | | | | | | | |   	--<PostCreate />
                                 | | | | | | | | | |   
                                 | | | | | | | | | |   --[=endsp]
                                 | | | | | | | | | |   end try
                                 | | | | | | | | | |   begin catch if @SPCallTC = 0 rollback; else if XACT_STATE() = 1 rollback transaction @SPCallId; exec CKCore.sErrorRethrow @@ProcId; return -1; end catch;
                                 | | | | | | | | | |   endsp: if @SPCallTC = 0 commit; return 0;
                                 | | | | | | | | | |   --[=/endsp]
                                 | | | | | | | | | |   end
                   +07.4290324   | | | | | | | | | | GO
                   +07.4342914 i | | | | | | | | | < 
                   +07.4343356 i | | | | | | | | | > Installing []db^CK.ActorTable (= 5.0.0 =).
                   +07.4343864 i | | | | | | | | | < 
                   +07.4344070 i | | | | | | | | | > Installing []db^CK.GroupTable.Head (= 5.0.1 =).
                   +07.4344471 i | | | | | | | | | < 
                   +07.4344770 i | | | | | | | | | > Installing []db^CK.UserTable.Head (= 5.0.3 =).
                   +07.4345127 i | | | | | | | | | < 
                   +07.4345283 i | | | | | | | | | > Installing []db^CK.sGroupCreate (unversioned).
                   +07.4347952   | | | | | | | | | | if OBJECT_ID('CK.sGroupCreate') is not null drop Procedure CK.sGroupCreate;
                   +07.4348456   | | | | | | | | | | GO
                   +07.4412314   | | | | | | | | | | -- SetupConfig: { "Requires": [ "CK.sActorCreate" ] }
                                 | | | | | | | | | |   --
                                 | | | | | | | | | |   -- Creates a Group.
                                 | | | | | | | | | |   --
                                 | | | | | | | | | |   create procedure CK.sGroupCreate 
                                 | | | | | | | | | |   (
                                 | | | | | | | | | |   	@ActorId int,
                                 | | | | | | | | | |   	@GroupIdResult int output
                                 | | | | | | | | | |   )
                                 | | | | | | | | | |   as begin
                                 | | | | | | | | | |       if @ActorId <= 0 throw 50000, 'Security.AnonymousNotAllowed', 1;
                                 | | | | | | | | | |   --[=beginsp]
                                 | | | | | | | | | |   set nocount on; declare @SPCallTC int = @@TRANCOUNT, @SPCallId sysname; 
                                 | | | | | | | | | |   beginsp: if @SPCallTC = 0 begin tran; else begin set @SPCallId = cast(32*cast(@@PROCID as bigint)+@@NESTLEVEL as varchar); save transaction @SPCallId; end begin try
                                 | | | | | | | | | |   --[=/beginsp]
                                 | | | | | | | | | |   --<PreCreate revert />
                                 | | | | | | | | | |   
                                 | | | | | | | | | |   	exec CK.sActorCreate @ActorId, @GroupIdResult output;
                                 | | | | | | | | | |   	insert into CK.tGroup( GroupId ) values( @GroupIdResult );
                                 | | | | | | | | | |   
                                 | | | | | | | | | |   	--<PostCreate />
                                 | | | | | | | | | |   
                                 | | | | | | | | | |   --[=endsp]
                                 | | | | | | | | | |   end try
                                 | | | | | | | | | |   begin catch if @SPCallTC = 0 rollback; else if XACT_STATE() = 1 rollback transaction @SPCallId; exec CKCore.sErrorRethrow @@ProcId; return -1; end catch;
                                 | | | | | | | | | |   endsp: if @SPCallTC = 0 commit; return 0;
                                 | | | | | | | | | |   --[=/endsp]
                                 | | | | | | | | | |   end
                   +07.4413796   | | | | | | | | | | GO
                   +07.4446095 i | | | | | | | | | < 
                   +07.4446412 i | | | | | | | | | > Installing []db^CK.sGroupUserAdd (unversioned).
                   +07.4448759   | | | | | | | | | | if OBJECT_ID('CK.sGroupUserAdd') is not null drop Procedure CK.sGroupUserAdd;
                   +07.4449049   | | | | | | | | | | GO
                   +07.4737495   | | | | | | | | | | -- SetupConfig: {}
                                 | | | | | | | | | |   --
                                 | | | | | | | | | |   -- Add a User to a Group. Does nothing if the User is already in the Group.
                                 | | | | | | | | | |   --
                                 | | | | | | | | | |   create procedure CK.sGroupUserAdd 
                                 | | | | | | | | | |   (
                                 | | | | | | | | | |   	@ActorId int,
                                 | | | | | | | | | |   	@GroupId int,
                                 | | | | | | | | | |   	@UserId int
                                 | | | | | | | | | |   )
                                 | | | | | | | | | |   as begin
                                 | | | | | | | | | |       if @ActorId <= 0 throw 50000, 'Security.AnonymousNotAllowed', 1;
                                 | | | | | | | | | |       if @GroupId <= 0 throw 50000, 'Group.InvalidId', 1;
                                 | | | | | | | | | |   
                                 | | | | | | | | | |   	-- System is, somehow, already in all groups.
                                 | | | | | | | | | |       if @UserId = 1 return 0;
                                 | | | | | | | | | |   --[=beginsp]
                                 | | | | | | | | | |   set nocount on; declare @SPCallTC int = @@TRANCOUNT, @SPCallId sysname; 
                                 | | | | | | | | | |   beginsp: if @SPCallTC = 0 begin tran; else begin set @SPCallId = cast(32*cast(@@PROCID as bigint)+@@NESTLEVEL as varchar); save transaction @SPCallId; end begin try
                                 | | | | | | | | | |   --[=/beginsp]
                                 | | | | | | | | | |   if @GroupId <> @UserId and not exists (select * from CK.tActorProfile where GroupId = @GroupId and ActorId = @UserId)
                                 | | | | | | | | | |   	begin
                                 | | | | | | | | | |   		-- If this is the System Group, only members of it can add new Users.
                                 | | | | | | | | | |   		if @GroupId = 1 
                                 | | | | | | | | | |   		begin
                                 | | | | | | | | | |   			if not exists( select 1 from CK.tActorProfile p where p.GroupId = 1 and p.ActorId = @ActorId ) 
                                 | | | | | | | | | |   			begin
                                 | | | | | | | | | |   				;throw 50000, 'Security.ActorMustBeSytem', 1;
                                 | | | | | | | | | |   			end
                                 | | | | | | | | | |   		end
                                 | | | | | | | | | |   
                                 | | | | | | | | | |   		--<PreUserAdd revert />
                                 | | | | | | | | | |   
                                 | | | | | | | | | |   		insert into CK.tActorProfile( ActorId, GroupId ) values( @UserId, @GroupId );
                                 | | | | | | | | | |   
                                 | | | | | | | | | |   		--<PostUserAdd />
                                 | | | | | | | | | |   
                                 | | | | | | | | | |   	end
                                 | | | | | | | | | |   --[=endsp]
                                 | | | | | | | | | |   end try
                                 | | | | | | | | | |   begin catch if @SPCallTC = 0 rollback; else if XACT_STATE() = 1 rollback transaction @SPCallId; exec CKCore.sErrorRethrow @@ProcId; return -1; end catch;
                                 | | | | | | | | | |   endsp: if @SPCallTC = 0 commit; return 0;
                                 | | | | | | | | | |   --[=/endsp]
                                 | | | | | | | | | |   end
                   +07.4738624   | | | | | | | | | | GO
                   +07.4761619 i | | | | | | | | | < 
                   +07.4762065 i | | | | | | | | | > Installing []db^CK.sGroupUserRemove (unversioned).
                   +07.4764287   | | | | | | | | | | if OBJECT_ID('CK.sGroupUserRemove') is not null drop Procedure CK.sGroupUserRemove;
                   +07.4764577   | | | | | | | | | | GO
                   +07.4840547   | | | | | | | | | | -- SetupConfig: {}
                                 | | | | | | | | | |   --
                                 | | | | | | | | | |   -- Removes a User from a Group.
                                 | | | | | | | | | |   --
                                 | | | | | | | | | |   create procedure CK.sGroupUserRemove
                                 | | | | | | | | | |   (
                                 | | | | | | | | | |   	@ActorId int,
                                 | | | | | | | | | |   	@GroupId int,
                                 | | | | | | | | | |   	@UserId int
                                 | | | | | | | | | |   )
                                 | | | | | | | | | |   as begin
                                 | | | | | | | | | |       if @ActorId <= 0 throw 50000, 'Security.AnonymousNotAllowed', 1;
                                 | | | | | | | | | |       if @GroupId <= 0 throw 50000, 'Group.InvalidId', 1;
                                 | | | | | | | | | |   --[=beginsp]
                                 | | | | | | | | | |   set nocount on; declare @SPCallTC int = @@TRANCOUNT, @SPCallId sysname; 
                                 | | | | | | | | | |   beginsp: if @SPCallTC = 0 begin tran; else begin set @SPCallId = cast(32*cast(@@PROCID as bigint)+@@NESTLEVEL as varchar); save transaction @SPCallId; end begin try
                                 | | | | | | | | | |   --[=/beginsp]
                                 | | | | | | | | | |   if @GroupId <> @UserId and exists (select * from CK.tActorProfile where GroupId = @GroupId and ActorId = @UserId)
                                 | | | | | | | | | |   	begin
                                 | | | | | | | | | |   		-- If this is the System Group, only members of it can remove Users.
                                 | | | | | | | | | |   		if @GroupId = 1 
                                 | | | | | | | | | |   		begin
                                 | | | | | | | | | |   			if not exists( select 1 from CK.tActorProfile p where p.GroupId = 1 and p.ActorId = @ActorId ) 
                                 | | | | | | | | | |   			begin
                                 | | | | | | | | | |   				;throw 50000, 'Security.ActorMustBeSytem', 1;
                                 | | | | | | | | | |   			end
                                 | | | | | | | | | |   		end
                                 | | | | | | | | | |   
                                 | | | | | | | | | |   		--<PreUserRemove revert />
                                 | | | | | | | | | |   
                                 | | | | | | | | | |   		delete from CK.tActorProfile where GroupId = @GroupId and ActorId = @UserId;
                                 | | | | | | | | | |   		
                                 | | | | | | | | | |   		--<PostUserRemove />
                                 | | | | | | | | | |   	end
                                 | | | | | | | | | |   --[=endsp]
                                 | | | | | | | | | |   end try
                                 | | | | | | | | | |   begin catch if @SPCallTC = 0 rollback; else if XACT_STATE() = 1 rollback transaction @SPCallId; exec CKCore.sErrorRethrow @@ProcId; return -1; end catch;
                                 | | | | | | | | | |   endsp: if @SPCallTC = 0 commit; return 0;
                                 | | | | | | | | | |   --[=/endsp]
                                 | | | | | | | | | |   end
                   +07.4842377   | | | | | | | | | | GO
                   +07.4880326 i | | | | | | | | | < 
                   +07.4880674 i | | | | | | | | | > Installing []db^CK.sUserCreate (unversioned).
                   +07.4883503   | | | | | | | | | | if OBJECT_ID('CK.sUserCreate') is not null drop Procedure CK.sUserCreate;
                   +07.4883904   | | | | | | | | | | GO
                   +07.4908814   | | | | | | | | | | -- SetupConfig: { "Requires": [ "CK.sActorCreate" ] }
                                 | | | | | | | | | |   create procedure CK.sUserCreate 
                                 | | | | | | | | | |   (
                                 | | | | | | | | | |   	@ActorId int,
                                 | | | | | | | | | |   	@UserName nvarchar( 255 ),
                                 | | | | | | | | | |   	@UserIdResult int output
                                 | | | | | | | | | |   )
                                 | | | | | | | | | |   as
                                 | | | | | | | | | |   begin
                                 | | | | | | | | | |       if @ActorId <= 0 throw 50000, 'Security.AnonymousNotAllowed', 1;
                                 | | | | | | | | | |   --[=beginsp]
                                 | | | | | | | | | |   set nocount on; declare @SPCallTC int = @@TRANCOUNT, @SPCallId sysname; 
                                 | | | | | | | | | |   beginsp: if @SPCallTC = 0 begin tran; else begin set @SPCallId = cast(32*cast(@@PROCID as bigint)+@@NESTLEVEL as varchar); save transaction @SPCallId; end begin try
                                 | | | | | | | | | |   --[=/beginsp]
                                 | | | | | | | | | |   set @UserIdResult = 0;
                                 | | | | | | | | | |   	if exists( select UserId from CK.tUser where UserName = @UserName )
                                 | | | | | | | | | |   	begin
                                 | | | | | | | | | |   		set @UserIdResult = -1;
                                 | | | | | | | | | |   	end
                                 | | | | | | | | | |   	if @UserIdResult = 0
                                 | | | | | | | | | |   	begin
                                 | | | | | | | | | |   		--<PreCreate revert />
                                 | | | | | | | | | |   
                                 | | | | | | | | | |   		exec CK.sActorCreate @ActorId, @UserIdResult output;
                                 | | | | | | | | | |   		insert into CK.tUser( UserId, UserName ) values ( @UserIdResult, @UserName );
                                 | | | | | | | | | |   
                                 | | | | | | | | | |   		--<PostCreate />
                                 | | | | | | | | | |   	end
                                 | | | | | | | | | |   --[=endsp]
                                 | | | | | | | | | |   end try
                                 | | | | | | | | | |   begin catch if @SPCallTC = 0 rollback; else if XACT_STATE() = 1 rollback transaction @SPCallId; exec CKCore.sErrorRethrow @@ProcId; return -1; end catch;
                                 | | | | | | | | | |   endsp: if @SPCallTC = 0 commit; return 0;
                                 | | | | | | | | | |   --[=/endsp]
                                 | | | | | | | | | |   end
                   +07.4910563   | | | | | | | | | | GO
                   +07.4937815 i | | | | | | | | | < 
                   +07.4938087 i | | | | | | | | | > Installing []db^CK.sUserUserNameSet (unversioned).
                   +07.4940457   | | | | | | | | | | if OBJECT_ID('CK.sUserUserNameSet') is not null drop Procedure CK.sUserUserNameSet;
                   +07.4940742   | | | | | | | | | | GO
                   +07.4964153   | | | | | | | | | | -- SetupConfig: {}
                                 | | | | | | | | | |   -- Sets the user name. 
                                 | | | | | | | | | |   -- There is no guaranty that the actual value will be the same as the one requested (if auto numbering 
                                 | | | | | | | | | |   -- is injected for example). 
                                 | | | | | | | | | |   --
                                 | | | | | | | | | |   create procedure CK.sUserUserNameSet
                                 | | | | | | | | | |   (
                                 | | | | | | | | | |       @ActorId int,
                                 | | | | | | | | | |       @UserId int,
                                 | | | | | | | | | |       @UserName nvarchar(127),
                                 | | | | | | | | | |   	@Done bit output
                                 | | | | | | | | | |   )
                                 | | | | | | | | | |   as begin
                                 | | | | | | | | | |       if @ActorId <= 0 throw 50000, 'Security.AnonymousNotAllowed', 1;
                                 | | | | | | | | | |   --[=beginsp]
                                 | | | | | | | | | |   set nocount on; declare @SPCallTC int = @@TRANCOUNT, @SPCallId sysname; 
                                 | | | | | | | | | |   beginsp: if @SPCallTC = 0 begin tran; else begin set @SPCallId = cast(32*cast(@@PROCID as bigint)+@@NESTLEVEL as varchar); save transaction @SPCallId; end begin try
                                 | | | | | | | | | |   --[=/beginsp]
                                 | | | | | | | | | |   set @Done = 1;
                                 | | | | | | | | | |   	if exists( select * from CK.tUser where UserName = @UserName and UserId <> @UserId )
                                 | | | | | | | | | |   	begin
                                 | | | | | | | | | |   		set @Done = 0;
                                 | | | | | | | | | |   		--<UserNameSetClash />
                                 | | | | | | | | | |   	end
                                 | | | | | | | | | |   	if @Done = 1
                                 | | | | | | | | | |   	begin
                                 | | | | | | | | | |   		--<PreUserNameSet revert />
                                 | | | | | | | | | |   
                                 | | | | | | | | | |   		update u 
                                 | | | | | | | | | |   			set u.UserName = @UserName
                                 | | | | | | | | | |   			from CK.tUser u   
                                 | | | | | | | | | |   			where u.UserId = @UserId;
                                 | | | | | | | | | |   
                                 | | | | | | | | | |   		--<PostUserNameSet />
                                 | | | | | | | | | |   	end
                                 | | | | | | | | | |   --[=endsp]
                                 | | | | | | | | | |   end try
                                 | | | | | | | | | |   begin catch if @SPCallTC = 0 rollback; else if XACT_STATE() = 1 rollback transaction @SPCallId; exec CKCore.sErrorRethrow @@ProcId; return -1; end catch;
                                 | | | | | | | | | |   endsp: if @SPCallTC = 0 commit; return 0;
                                 | | | | | | | | | |   --[=/endsp]
                                 | | | | | | | | | |   end
                   +07.4965385   | | | | | | | | | | GO
                   +07.4992173 i | | | | | | | | | < 
                   +07.4992441 i | | | | | | | | | > Installing []db^CK.vGroup (unversioned).
                   +07.4997670   | | | | | | | | | | if OBJECT_ID('CK.vGroup') is not null drop View CK.vGroup;
                   +07.4997942   | | | | | | | | | | GO
                   +07.5026574   | | | | | | | | | | -- SetupConfig: {}
                                 | | | | | | | | | |   create view CK.vGroup
                                 | | | | | | | | | |   as 
                                 | | | | | | | | | |   	select  g.GroupId,
                                 | | | | | | | | | |   			GroupName = N'#Group-' +  cast(g.GroupId as varchar),
                                 | | | | | | | | | |   			UserCount = (select count(*) 
                                 | | | | | | | | | |   							from CK.tUser u with(nolock) 
                                 | | | | | | | | | |   							inner join CK.tActorProfile p with(nolock) on p.ActorId = u.UserId
                                 | | | | | | | | | |   							where p.GroupId = g.GroupId)
                                 | | | | | | | | | |   		from CK.tGroup g;
                   +07.5027204   | | | | | | | | | | GO
                   +07.5050310 i | | | | | | | | | < 
                   +07.5050595 i | | | | | | | | | > Installing []db^CK.vUser (unversioned).
                   +07.5052947   | | | | | | | | | | if OBJECT_ID('CK.vUser') is not null drop View CK.vUser;
                   +07.5053340   | | | | | | | | | | GO
                   +07.5068316   | | | | | | | | | | -- SetupConfig: {}
                                 | | | | | | | | | |   create view CK.vUser
                                 | | | | | | | | | |   as 
                                 | | | | | | | | | |   	select  u.UserId,
                                 | | | | | | | | | |   			u.CreationDate,
                                 | | | | | | | | | |   			u.UserName
                                 | | | | | | | | | |   		from CK.tUser u;
                   +07.5068722   | | | | | | | | | | GO
                   +07.5078878 i | | | | | | | | | < 
                   +07.5079160 i | | | | | | | | | > Installing []db^CK.sGroupRemoveAllUsers (unversioned).
                   +07.5081092   | | | | | | | | | | if OBJECT_ID('CK.sGroupRemoveAllUsers') is not null drop Procedure CK.sGroupRemoveAllUsers;
                   +07.5081484   | | | | | | | | | | GO
                   +07.5123788   | | | | | | | | | | -- SetupConfig: { "Requires": [ "CK.sGroupUserRemove" ] }
                                 | | | | | | | | | |   --
                                 | | | | | | | | | |   -- Clears a Group.
                                 | | | | | | | | | |   --
                                 | | | | | | | | | |   create procedure CK.sGroupRemoveAllUsers
                                 | | | | | | | | | |   (
                                 | | | | | | | | | |   	@ActorId int,
                                 | | | | | | | | | |   	@GroupId int
                                 | | | | | | | | | |   )
                                 | | | | | | | | | |   as begin
                                 | | | | | | | | | |       if @ActorId <= 0 throw 50000, 'Security.AnonymousNotAllowed', 1;
                                 | | | | | | | | | |       if @GroupId <= 0 throw 50000, 'Group.InvalidGroup', 1;
                                 | | | | | | | | | |   --[=beginsp]
                                 | | | | | | | | | |   set nocount on; declare @SPCallTC int = @@TRANCOUNT, @SPCallId sysname; 
                                 | | | | | | | | | |   beginsp: if @SPCallTC = 0 begin tran; else begin set @SPCallId = cast(32*cast(@@PROCID as bigint)+@@NESTLEVEL as varchar); save transaction @SPCallId; end begin try
                                 | | | | | | | | | |   --[=/beginsp]
                                 | | | | | | | | | |   declare @UserId int;
                                 | | | | | | | | | |   	declare @CUser cursor;
                                 | | | | | | | | | |   	set @CUser = cursor local fast_forward for 
                                 | | | | | | | | | |   		select ActorId from CK.tActorProfile p 
                                 | | | | | | | | | |   						inner join CK.tUser u on u.UserId = p.ActorId
                                 | | | | | | | | | |   						where p.GroupId = @GroupId and p.ActorId <> @GroupId;
                                 | | | | | | | | | |   	open @CUser;
                                 | | | | | | | | | |   	fetch from @CUser into @UserId;
                                 | | | | | | | | | |   	while @@FETCH_STATUS = 0
                                 | | | | | | | | | |   	begin
                                 | | | | | | | | | |   		exec CK.sGroupUserRemove @ActorId, @GroupId, @UserId;
                                 | | | | | | | | | |   		fetch next from @CUser into @UserId;
                                 | | | | | | | | | |   	end
                                 | | | | | | | | | |   	deallocate @CUser;
                                 | | | | | | | | | |   --[=endsp]
                                 | | | | | | | | | |   end try
                                 | | | | | | | | | |   begin catch if @SPCallTC = 0 rollback; else if XACT_STATE() = 1 rollback transaction @SPCallId; exec CKCore.sErrorRethrow @@ProcId; return -1; end catch;
                                 | | | | | | | | | |   endsp: if @SPCallTC = 0 commit; return 0;
                                 | | | | | | | | | |   --[=/endsp]
                                 | | | | | | | | | |   end
                   +07.5125346   | | | | | | | | | | GO
                   +07.5158489 i | | | | | | | | | < 
                   +07.5158837 i | | | | | | | | | > Installing []db^CK.sUserRemoveFromAllGroups (unversioned).
                   +07.5161309   | | | | | | | | | | if OBJECT_ID('CK.sUserRemoveFromAllGroups') is not null drop Procedure CK.sUserRemoveFromAllGroups;
                   +07.5161720   | | | | | | | | | | GO
                   +07.5198696   | | | | | | | | | | -- SetupConfig: { "Requires": [ "CK.sGroupUserRemove" ] }
                                 | | | | | | | | | |   --
                                 | | | | | | | | | |   -- Removes a User from all the Groups it belongs to.
                                 | | | | | | | | | |   --
                                 | | | | | | | | | |   create procedure CK.sUserRemoveFromAllGroups
                                 | | | | | | | | | |   (
                                 | | | | | | | | | |   	@ActorId int,
                                 | | | | | | | | | |   	@UserId int
                                 | | | | | | | | | |   )
                                 | | | | | | | | | |   as begin
                                 | | | | | | | | | |       if @ActorId <= 0 throw 50000, 'Security.AnonymousNotAllowed', 1;
                                 | | | | | | | | | |   --[=beginsp]
                                 | | | | | | | | | |   set nocount on; declare @SPCallTC int = @@TRANCOUNT, @SPCallId sysname; 
                                 | | | | | | | | | |   beginsp: if @SPCallTC = 0 begin tran; else begin set @SPCallId = cast(32*cast(@@PROCID as bigint)+@@NESTLEVEL as varchar); save transaction @SPCallId; end begin try
                                 | | | | | | | | | |   --[=/beginsp]
                                 | | | | | | | | | |   declare @GroupId int;
                                 | | | | | | | | | |   	declare @CGroup cursor;
                                 | | | | | | | | | |   	set @CGroup = cursor local fast_forward for 
                                 | | | | | | | | | |   		select GroupId from CK.tActorProfile where ActorId = @UserId and GroupId <> @UserId;
                                 | | | | | | | | | |   	open @CGroup
                                 | | | | | | | | | |   	fetch from @CGroup into @GroupId
                                 | | | | | | | | | |   	while @@FETCH_STATUS = 0
                                 | | | | | | | | | |   	begin
                                 | | | | | | | | | |   		exec CK.sGroupUserRemove @ActorId, @GroupId, @UserId;
                                 | | | | | | | | | |   		fetch next from @CGroup into @GroupId;
                                 | | | | | | | | | |   	end
                                 | | | | | | | | | |   	deallocate @CGroup;
                                 | | | | | | | | | |   --[=endsp]
                                 | | | | | | | | | |   end try
                                 | | | | | | | | | |   begin catch if @SPCallTC = 0 rollback; else if XACT_STATE() = 1 rollback transaction @SPCallId; exec CKCore.sErrorRethrow @@ProcId; return -1; end catch;
                                 | | | | | | | | | |   endsp: if @SPCallTC = 0 commit; return 0;
                                 | | | | | | | | | |   --[=/endsp]
                                 | | | | | | | | | |   end
                   +07.5200128   | | | | | | | | | | GO
                   +07.5224230 i | | | | | | | | | < 
                   +07.5224601 i | | | | | | | | | > Installing []db^CK.sGroupDestroy (unversioned).
                   +07.5227318   | | | | | | | | | | if OBJECT_ID('CK.sGroupDestroy') is not null drop Procedure CK.sGroupDestroy;
                   +07.5227751   | | | | | | | | | | GO
                   +07.5320299   | | | | | | | | | | -- This will be transformed by []db^CK.DB.Acl.Package([]db^CK.sGroupDestroy)
                                 | | | | | | | | | |   -- SetupConfig: { "Requires": [ "CK.sGroupRemoveAllUsers" ] }
                                 | | | | | | | | | |   --
                                 | | | | | | | | | |   -- Destroys a Group: can work only if there is no Users inside the Group except if @ForceDestroy = 1.
                                 | | | | | | | | | |   --
                                 | | | | | | | | | |   create procedure CK.sGroupDestroy
                                 | | | | | | | | | |   (
                                 | | | | | | | | | |   	@ActorId int,
                                 | | | | | | | | | |   	@GroupId int,
                                 | | | | | | | | | |   	@ForceDestroy bit = 0
                                 | | | | | | | | | |   )
                                 | | | | | | | | | |   as begin
                                 | | | | | | | | | |       if @ActorId <= 0 throw 50000, 'Security.AnonymousNotAllowed', 1;
                                 | | | | | | | | | |       if @GroupId <= 1 throw 50000, 'Group.Undestroyable', 1;
                                 | | | | | | | | | |   --[=beginsp]
                                 | | | | | | | | | |   set nocount on; declare @SPCallTC int = @@TRANCOUNT, @SPCallId sysname; 
                                 | | | | | | | | | |   beginsp: if @SPCallTC = 0 begin tran; else begin set @SPCallId = cast(32*cast(@@PROCID as bigint)+@@NESTLEVEL as varchar); save transaction @SPCallId; end begin try
                                 | | | | | | | | | |   --[=/beginsp]
                                 | | | | | | | | | |   --<PreDestroy revert />
                                 | | | | | | | | | |   
                                 | | | | | | | | | |   	if @ForceDestroy = 1
                                 | | | | | | | | | |   	begin
                                 | | | | | | | | | |   		exec CK.sGroupRemoveAllUsers @ActorId, @GroupId;
                                 | | | | | | | | | |   	end
                                 | | | | | | | | | |   	else
                                 | | | | | | | | | |   	begin
                                 | | | | | | | | | |   		if exists( select * from CK.tActorProfile where GroupId = @GroupId and ActorId <> @GroupId ) throw 50000, 'Group.NotEmptyGroup', 1;
                                 | | | | | | | | | |   	end
                                 | | | | | | | | | |   	delete from CK.tActorProfile where GroupId = @GroupId;
                                 | | | | | | | | | |   	delete from CK.tGroup where GroupId = @GroupId;
                                 | | | | | | | | | |   	delete from CK.tActor where ActorId = @GroupId;
                                 | | | | | | | | | |   
                                 | | | | | | | | | |   	--<PostDestroy />
                                 | | | | | | | | | |   
                                 | | | | | | | | | |   --[=endsp]
                                 | | | | | | | | | |   end try
                                 | | | | | | | | | |   begin catch if @SPCallTC = 0 rollback; else if XACT_STATE() = 1 rollback transaction @SPCallId; exec CKCore.sErrorRethrow @@ProcId; return -1; end catch;
                                 | | | | | | | | | |   endsp: if @SPCallTC = 0 commit; return 0;
                                 | | | | | | | | | |   --[=/endsp]
                                 | | | | | | | | | |   end
                   +07.5322512   | | | | | | | | | | GO
                   +07.5366231 i | | | | | | | | | < 
                   +07.5366646 i | | | | | | | | | > Installing []db^CK.sUserDestroy (unversioned).
                   +07.5370555   | | | | | | | | | | if OBJECT_ID('CK.sUserDestroy') is not null drop Procedure CK.sUserDestroy;
                   +07.5371207   | | | | | | | | | | GO
                   +07.5401868   | | | | | | | | | | -- This will be transformed by []db^CK.DB.Acl.Package([]db^CK.sUserDestroy)
                                 | | | | | | | | | |   -- SetupConfig: { "Requires": [ "CK.sUserRemoveFromAllGroups" ] }
                                 | | | | | | | | | |   --
                                 | | | | | | | | | |   -- Destroys a User: automatically removes it from any Groups it may belong to.
                                 | | | | | | | | | |   --
                                 | | | | | | | | | |   create procedure CK.sUserDestroy
                                 | | | | | | | | | |   (
                                 | | | | | | | | | |   	@ActorId int,
                                 | | | | | | | | | |   	@UserId int
                                 | | | | | | | | | |   )
                                 | | | | | | | | | |   as begin
                                 | | | | | | | | | |       if @ActorId <= 0 throw 50000, 'Security.AnonymousNotAllowed', 1;
                                 | | | | | | | | | |       if @UserId <= 1 throw 50000, 'User.Undestroyable', 1;
                                 | | | | | | | | | |   --[=beginsp]
                                 | | | | | | | | | |   set nocount on; declare @SPCallTC int = @@TRANCOUNT, @SPCallId sysname; 
                                 | | | | | | | | | |   beginsp: if @SPCallTC = 0 begin tran; else begin set @SPCallId = cast(32*cast(@@PROCID as bigint)+@@NESTLEVEL as varchar); save transaction @SPCallId; end begin try
                                 | | | | | | | | | |   --[=/beginsp]
                                 | | | | | | | | | |   if exists( select * from CK.tUser where UserId = @UserId )
                                 | | | | | | | | | |   	begin
                                 | | | | | | | | | |   		--<PreDestroy revert />
                                 | | | | | | | | | |   
                                 | | | | | | | | | |   		exec CK.sUserRemoveFromAllGroups @ActorId, @UserId;
                                 | | | | | | | | | |   
                                 | | | | | | | | | |   		delete from CK.tActorProfile where ActorId = @UserId;
                                 | | | | | | | | | |   		delete from CK.tUser where UserId = @UserId;
                                 | | | | | | | | | |   		delete from CK.tActor where ActorId = @UserId;
                                 | | | | | | | | | |   
                                 | | | | | | | | | |   		--<PostDestroy />
                                 | | | | | | | | | |   
                                 | | | | | | | | | |   	end
                                 | | | | | | | | | |   --[=endsp]
                                 | | | | | | | | | |   end try
                                 | | | | | | | | | |   begin catch if @SPCallTC = 0 rollback; else if XACT_STATE() = 1 rollback transaction @SPCallId; exec CKCore.sErrorRethrow @@ProcId; return -1; end catch;
                                 | | | | | | | | | |   endsp: if @SPCallTC = 0 commit; return 0;
                                 | | | | | | | | | |   --[=/endsp]
                                 | | | | | | | | | |   end
                   +07.5403640   | | | | | | | | | | GO
                   +07.5434171 i | | | | | | | | | < 
                   +07.5434671 i | | | | | | | | | > Installing []db^CK.GroupTable (= 5.0.1 =).
                   +07.5435055 i | | | | | | | | | < 
                   +07.5435242 i | | | | | | | | | > Installing []db^CK.UserTable (= 5.0.3 =).
                   +07.5435519 i | | | | | | | | | < 
                   +07.5435684 i | | | | | | | | | > Installing []db^CK.ActorProfileTable.Head (= 5.0.0 =).
                   +07.5436006 i | | | | | | | | | < 
                   +07.5436162 i | | | | | | | | | > Installing []db^CK.ActorProfileTable (= 5.0.0 =).
                   +07.5436510 i | | | | | | | | | < 
                   +07.5436684 i | | | | | | | | | > Installing []db^CK.DB.Actor.Package (= 5.0.0 =).
                   +07.5436996 i | | | | | | | | | < 
                   +07.5437362 i | | | | | | | | | > Installing []db^CK.DB.Acl.Package.Head (= 1.0.0 =).
                   +07.5437666 i | | | | | | | | | < 
                   +07.5437867 i | | | | | | | | | > Installing []db^CK.AclTable.Head (= 3.0.0 =).
                   +07.5438166 i | | | | | | | | | < 
                   +07.5438317 i | | | | | | | | | > Installing []db^CK.DB.Acl.Package([]db^CK.sGroupDestroy) (unversioned).
                   +07.6521337   | | | | | | | | | | Successfully applied 'inject "
                                 | | | | | | | | | |   	delete from CK.tAclConfig where ActorId = @GroupId;
                                 | | | | | | | | | |   	delete from CK.tAclConfigMemory where ActorId = @GroupId;" into "PreDestroy";'.
                   +07.6531485   | | | | | | | | | | > Parsing transformation result.
                   +07.6586802   | | | | | | | | | | < 
                   +07.6642400   | | | | | | | | | | -- SetupConfig: { "Requires": [ "CK.sGroupRemoveAllUsers" ] }
                                 | | | | | | | | | |   --
                                 | | | | | | | | | |   -- Destroys a Group: can work only if there is no Users inside the Group except if @ForceDestroy = 1.
                                 | | | | | | | | | |   --
                                 | | | | | | | | | |   alter procedure CK.sGroupDestroy
                                 | | | | | | | | | |   (
                                 | | | | | | | | | |   	@ActorId int,
                                 | | | | | | | | | |   	@GroupId int,
                                 | | | | | | | | | |   	@ForceDestroy bit = 0
                                 | | | | | | | | | |   )
                                 | | | | | | | | | |   as begin
                                 | | | | | | | | | |       if @ActorId <= 0 throw 50000, 'Security.AnonymousNotAllowed', 1;
                                 | | | | | | | | | |       if @GroupId <= 1 throw 50000, 'Group.Undestroyable', 1;
                                 | | | | | | | | | |   --[=beginsp]
                                 | | | | | | | | | |   set nocount on; declare @SPCallTC int = @@TRANCOUNT, @SPCallId sysname; 
                                 | | | | | | | | | |   beginsp: if @SPCallTC = 0 begin tran; else begin set @SPCallId = cast(32*cast(@@PROCID as bigint)+@@NESTLEVEL as varchar); save transaction @SPCallId; end begin try
                                 | | | | | | | | | |   --[=/beginsp]
                                 | | | | | | | | | |   --<PreDestroy revert >
                                 | | | | | | | | | |   
                                 | | | | | | | | | |   	delete from CK.tAclConfig where ActorId = @GroupId;
                                 | | | | | | | | | |   	delete from CK.tAclConfigMemory where ActorId = @GroupId;
                                 | | | | | | | | | |   --</PreDestroy>
                                 | | | | | | | | | |   
                                 | | | | | | | | | |   	if @ForceDestroy = 1
                                 | | | | | | | | | |   	begin
                                 | | | | | | | | | |   		exec CK.sGroupRemoveAllUsers @ActorId, @GroupId;
                                 | | | | | | | | | |   	end
                                 | | | | | | | | | |   	else
                                 | | | | | | | | | |   	begin
                                 | | | | | | | | | |   		if exists( select * from CK.tActorProfile where GroupId = @GroupId and ActorId <> @GroupId ) throw 50000, 'Group.NotEmptyGroup', 1;
                                 | | | | | | | | | |   	end
                                 | | | | | | | | | |   	delete from CK.tActorProfile where GroupId = @GroupId;
                                 | | | | | | | | | |   	delete from CK.tGroup where GroupId = @GroupId;
                                 | | | | | | | | | |   	delete from CK.tActor where ActorId = @GroupId;
                                 | | | | | | | | | |   
                                 | | | | | | | | | |   	--<PostDestroy />
                                 | | | | | | | | | |   
                                 | | | | | | | | | |   --[=endsp]
                                 | | | | | | | | | |   end try
                                 | | | | | | | | | |   begin catch if @SPCallTC = 0 rollback; else if XACT_STATE() = 1 rollback transaction @SPCallId; exec CKCore.sErrorRethrow @@ProcId; return -1; end catch;
                                 | | | | | | | | | |   endsp: if @SPCallTC = 0 commit; return 0;
                                 | | | | | | | | | |   --[=/endsp]
                                 | | | | | | | | | |   end
                                 | | | | | | | | | |   -- This has been transformed by []db^CK.DB.Acl.Package([]db^CK.sGroupDestroy)
                   +07.6644452   | | | | | | | | | | GO
                   +07.6739834 i | | | | | | | | | < 
                   +07.6740253 i | | | | | | | | | > Installing []db^CK.DB.Acl.Package([]db^CK.sUserDestroy) (unversioned).
                   +07.6809345   | | | | | | | | | | Successfully applied 'inject "
                                 | | | | | | | | | |   		delete from CK.tAclConfig where ActorId = @UserId;
                                 | | | | | | | | | |   		delete from CK.tAclConfigMemory where ActorId = @UserId;" into "PreDestroy";'.
                   +07.6809854   | | | | | | | | | | > Parsing transformation result.
                   +07.6817065   | | | | | | | | | | < 
                   +07.6825165   | | | | | | | | | | -- SetupConfig: { "Requires": [ "CK.sUserRemoveFromAllGroups" ] }
                                 | | | | | | | | | |   --
                                 | | | | | | | | | |   -- Destroys a User: automatically removes it from any Groups it may belong to.
                                 | | | | | | | | | |   --
                                 | | | | | | | | | |   alter procedure CK.sUserDestroy
                                 | | | | | | | | | |   (
                                 | | | | | | | | | |   	@ActorId int,
                                 | | | | | | | | | |   	@UserId int
                                 | | | | | | | | | |   )
                                 | | | | | | | | | |   as begin
                                 | | | | | | | | | |       if @ActorId <= 0 throw 50000, 'Security.AnonymousNotAllowed', 1;
                                 | | | | | | | | | |       if @UserId <= 1 throw 50000, 'User.Undestroyable', 1;
                                 | | | | | | | | | |   --[=beginsp]
                                 | | | | | | | | | |   set nocount on; declare @SPCallTC int = @@TRANCOUNT, @SPCallId sysname; 
                                 | | | | | | | | | |   beginsp: if @SPCallTC = 0 begin tran; else begin set @SPCallId = cast(32*cast(@@PROCID as bigint)+@@NESTLEVEL as varchar); save transaction @SPCallId; end begin try
                                 | | | | | | | | | |   --[=/beginsp]
                                 | | | | | | | | | |   if exists( select * from CK.tUser where UserId = @UserId )
                                 | | | | | | | | | |   	begin
                                 | | | | | | | | | |   		--<PreDestroy revert >
                                 | | | | | | | | | |   
                                 | | | | | | | | | |   		delete from CK.tAclConfig where ActorId = @UserId;
                                 | | | | | | | | | |   		delete from CK.tAclConfigMemory where ActorId = @UserId;
                                 | | | | | | | | | |   --</PreDestroy>
                                 | | | | | | | | | |   
                                 | | | | | | | | | |   		exec CK.sUserRemoveFromAllGroups @ActorId, @UserId;
                                 | | | | | | | | | |   
                                 | | | | | | | | | |   		delete from CK.tActorProfile where ActorId = @UserId;
                                 | | | | | | | | | |   		delete from CK.tUser where UserId = @UserId;
                                 | | | | | | | | | |   		delete from CK.tActor where ActorId = @UserId;
                                 | | | | | | | | | |   
                                 | | | | | | | | | |   		--<PostDestroy />
                                 | | | | | | | | | |   
                                 | | | | | | | | | |   	end
                                 | | | | | | | | | |   --[=endsp]
                                 | | | | | | | | | |   end try
                                 | | | | | | | | | |   begin catch if @SPCallTC = 0 rollback; else if XACT_STATE() = 1 rollback transaction @SPCallId; exec CKCore.sErrorRethrow @@ProcId; return -1; end catch;
                                 | | | | | | | | | |   endsp: if @SPCallTC = 0 commit; return 0;
                                 | | | | | | | | | |   --[=/endsp]
                                 | | | | | | | | | |   end
                                 | | | | | | | | | |   -- This has been transformed by []db^CK.DB.Acl.Package([]db^CK.sUserDestroy)
                   +07.6826798   | | | | | | | | | | GO
                   +07.6868081 i | | | | | | | | | < 
                   +07.6868513 i | | | | | | | | | > Installing []db^CK.fAclGrantLevel (unversioned).
                   +07.6873998   | | | | | | | | | | if OBJECT_ID('CK.fAclGrantLevel') is not null drop Function CK.fAclGrantLevel;
                   +07.6874288   | | | | | | | | | | GO
                   +07.6914954   | | | | | | | | | | -- SetupConfig: {}
                                 | | | | | | | | | |   create function CK.fAclGrantLevel
                                 | | | | | | | | | |   (
                                 | | | | | | | | | |       @ActorId int,
                                 | | | | | | | | | |       @AclId int
                                 | | | | | | | | | |   )
                                 | | | | | | | | | |   returns tinyint -- with SCHEMABINDING
                                 | | | | | | | | | |   as begin
                                 | | | | | | | | | |   	return IsNull( -- Is the actor the system or a member of the system group?
                                 | | | | | | | | | |   			(select 127 from CK.tActorProfile with(nolock) 
                                 | | | | | | | | | |   					where ActorId = @ActorId and GroupId = 1), 
                                 | | | | | | | | | |   			IsNull( -- Is there any GrantLevel associated to the groups it belongs to (plus the anonymous)?
                                 | | | | | | | | | |   				(select case when max(t.GrantLevel) > 127 then 255-max(t.GrantLevel) else max(t.GrantLevel) end
                                 | | | | | | | | | |   						from 
                                 | | | | | | | | | |   						(	select c.GrantLevel
                                 | | | | | | | | | |   								from CK.tAclConfig c with(nolock)
                                 | | | | | | | | | |   								inner join CK.tActorProfile groups with(nolock) on groups.GroupId = c.ActorId
                                 | | | | | | | | | |   								where groups.ActorId = @ActorId and c.AclId = @AclId
                                 | | | | | | | | | |   							union all
                                 | | | | | | | | | |   							select c.GrantLevel 
                                 | | | | | | | | | |   								from CK.tAclConfig c with(nolock) where c.ActorId = 0 and c.AclId = @AclId
                                 | | | | | | | | | |   						) as t
                                 | | | | | | | | | |   				),
                                 | | | | | | | | | |   				-- Else, GrantLevel is zero: denied
                                 | | | | | | | | | |   				0 ));
                                 | | | | | | | | | |   end
                   +07.6915887   | | | | | | | | | | GO
                   +07.6931617 i | | | | | | | | | < 
                   +07.6931862 i | | | | | | | | | > Installing []db^CK.sAclCreate (unversioned).
                   +07.6933871   | | | | | | | | | | if OBJECT_ID('CK.sAclCreate') is not null drop Procedure CK.sAclCreate;
                   +07.6934125   | | | | | | | | | | GO
                   +07.6956540   | | | | | | | | | | -- SetupConfig: {}
                                 | | | | | | | | | |   create Procedure CK.sAclCreate
                                 | | | | | | | | | |   (
                                 | | | | | | | | | |       @ActorId int,
                                 | | | | | | | | | |       @AclIdResult int output
                                 | | | | | | | | | |   )
                                 | | | | | | | | | |   as begin
                                 | | | | | | | | | |   --[=beginsp]
                                 | | | | | | | | | |   set nocount on; declare @SPCallTC int = @@TRANCOUNT, @SPCallId sysname; 
                                 | | | | | | | | | |   beginsp: if @SPCallTC = 0 begin tran; else begin set @SPCallId = cast(32*cast(@@PROCID as bigint)+@@NESTLEVEL as varchar); save transaction @SPCallId; end begin try
                                 | | | | | | | | | |   --[=/beginsp]
                                 | | | | | | | | | |   --<PreCreate revert />
                                 | | | | | | | | | |   
                                 | | | | | | | | | |   	insert into CK.tAcl default values;
                                 | | | | | | | | | |   	set @AclIdResult = scope_identity();
                                 | | | | | | | | | |   
                                 | | | | | | | | | |   	--<PostCreate />
                                 | | | | | | | | | |   
                                 | | | | | | | | | |   --[=endsp]
                                 | | | | | | | | | |   end try
                                 | | | | | | | | | |   begin catch if @SPCallTC = 0 rollback; else if XACT_STATE() = 1 rollback transaction @SPCallId; exec CKCore.sErrorRethrow @@ProcId; return -1; end catch;
                                 | | | | | | | | | |   endsp: if @SPCallTC = 0 commit; return 0;
                                 | | | | | | | | | |   --[=/endsp]
                                 | | | | | | | | | |   end
                   +07.6957598   | | | | | | | | | | GO
                   +07.6986457 i | | | | | | | | | < 
                   +07.6986805 i | | | | | | | | | > Installing []db^CK.sAclDestroy (unversioned).
                   +07.6989460   | | | | | | | | | | if OBJECT_ID('CK.sAclDestroy') is not null drop Procedure CK.sAclDestroy;
                   +07.6989852   | | | | | | | | | | GO
                   +07.7014949   | | | | | | | | | | -- SetupConfig: {}
                                 | | | | | | | | | |   create Procedure CK.sAclDestroy
                                 | | | | | | | | | |   (
                                 | | | | | | | | | |       @ActorId int,
                                 | | | | | | | | | |       @AclId int
                                 | | | | | | | | | |   )
                                 | | | | | | | | | |   as begin
                                 | | | | | | | | | |   
                                 | | | | | | | | | |   	if @ActorId <= 0 throw 50000, 'Security.AnonymousNotAllowed', 1;
                                 | | | | | | | | | |   --[=beginsp]
                                 | | | | | | | | | |   set nocount on; declare @SPCallTC int = @@TRANCOUNT, @SPCallId sysname; 
                                 | | | | | | | | | |   beginsp: if @SPCallTC = 0 begin tran; else begin set @SPCallId = cast(32*cast(@@PROCID as bigint)+@@NESTLEVEL as varchar); save transaction @SPCallId; end begin try
                                 | | | | | | | | | |   --[=/beginsp]
                                 | | | | | | | | | |   --<PreDestroy revert />
                                 | | | | | | | | | |   
                                 | | | | | | | | | |   	delete from CK.tAclConfigMemory where AclId = @AclId;
                                 | | | | | | | | | |   	delete from CK.tAclConfig where AclId = @AclId;
                                 | | | | | | | | | |   	delete from CK.tAcl where AclId = @AclId;
                                 | | | | | | | | | |   
                                 | | | | | | | | | |   	--<PostDestroy />
                                 | | | | | | | | | |   
                                 | | | | | | | | | |   --[=endsp]
                                 | | | | | | | | | |   end try
                                 | | | | | | | | | |   begin catch if @SPCallTC = 0 rollback; else if XACT_STATE() = 1 rollback transaction @SPCallId; exec CKCore.sErrorRethrow @@ProcId; return -1; end catch;
                                 | | | | | | | | | |   endsp: if @SPCallTC = 0 commit; return 0;
                                 | | | | | | | | | |   --[=/endsp]
                                 | | | | | | | | | |   end
                   +07.7015850   | | | | | | | | | | GO
                   +07.7033460 i | | | | | | | | | < 
                   +07.7033915 i | | | | | | | | | > Installing []db^CK.sAclGrantSet (unversioned).
                   +07.7035968   | | | | | | | | | | if OBJECT_ID('CK.sAclGrantSet') is not null drop Procedure CK.sAclGrantSet;
                   +07.7036217   | | | | | | | | | | GO
                   +07.7124347   | | | | | | | | | | -- SetupConfig: {}
                                 | | | | | | | | | |   create Procedure CK.sAclGrantSet
                                 | | | | | | | | | |   (
                                 | | | | | | | | | |       @ActorId int,
                                 | | | | | | | | | |       @AclId int,
                                 | | | | | | | | | |       @ActorIdToGrant int,
                                 | | | | | | | | | |   	@KeyReason varchar(128), -- A Key reason is optionnal. 
                                 | | | | | | | | | |       @GrantLevel tinyint
                                 | | | | | | | | | |   )
                                 | | | | | | | | | |   as begin
                                 | | | | | | | | | |   	
                                 | | | | | | | | | |   	-- System is never granted since it has by design full control on all ACL.
                                 | | | | | | | | | |   	if @ActorIdToGrant = 1 return 0;
                                 | | | | | | | | | |   --[=beginsp]
                                 | | | | | | | | | |   set nocount on; declare @SPCallTC int = @@TRANCOUNT, @SPCallId sysname; 
                                 | | | | | | | | | |   beginsp: if @SPCallTC = 0 begin tran; else begin set @SPCallId = cast(32*cast(@@PROCID as bigint)+@@NESTLEVEL as varchar); save transaction @SPCallId; end begin try
                                 | | | | | | | | | |   --[=/beginsp]
                                 | | | | | | | | | |   if @KeyReason is null set @KeyReason = '';
                                 | | | | | | | | | |   
                                 | | | | | | | | | |   	--<PreMemoryUpdate revert />
                                 | | | | | | | | | |   
                                 | | | | | | | | | |   	-- First, update CK.tAclConfigMemory with the new configuration given.
                                 | | | | | | | | | |   	merge CK.tAclConfigMemory as target
                                 | | | | | | | | | |   		using
                                 | | | | | | | | | |   		(
                                 | | | | | | | | | |   			select AclId = @AclId, ActorId = @ActorIdToGrant, KeyReason = @KeyReason
                                 | | | | | | | | | |   		) 
                                 | | | | | | | | | |   		as source on 
                                 | | | | | | | | | |   				source.AclId = target.AclId and 
                                 | | | | | | | | | |   				source.ActorId = target.ActorId and
                                 | | | | | | | | | |   				source.KeyReason = target.KeyReason
                                 | | | | | | | | | |   		when matched and @GrantLevel = 0 then delete -- When @GrantLevel = 0, we remove the entry.
                                 | | | | | | | | | |   		when matched and target.GrantLevel <> @GrantLevel then update set GrantLevel = @GrantLevel
                                 | | | | | | | | | |   		when not matched by target then insert( AclId, ActorId, KeyReason, GrantLevel ) values( @AclId, @ActorIdToGrant, @KeyReason, @GrantLevel );
                                 | | | | | | | | | |   	
                                 | | | | | | | | | |   	if @@ROWCOUNT > 0
                                 | | | | | | | | | |   	begin
                                 | | | | | | | | | |   		--<PreConfigUpdate revert />
                                 | | | | | | | | | |   		-- The memory drives the content of the AclConfig.
                                 | | | | | | | | | |   		merge CK.tAclConfig as target
                                 | | | | | | | | | |   			using
                                 | | | | | | | | | |   			(
                                 | | | | | | | | | |   				select AclId, ActorId, MaxGrantLevel = max(GrantLevel)
                                 | | | | | | | | | |   				from CK.tAclConfigMemory m
                                 | | | | | | | | | |   				where AclId = @AclId and ActorId = @ActorIdToGrant
                                 | | | | | | | | | |   				group by AclId, ActorId
                                 | | | | | | | | | |   			) 
                                 | | | | | | | | | |   			as source on 
                                 | | | | | | | | | |   				source.AclId = target.AclId and source.ActorId = target.ActorId 
                                 | | | | | | | | | |   			when not matched by target then insert( AclId, ActorId, GrantLevel ) values( @AclId, @ActorIdToGrant, source.MaxGrantLevel )
                                 | | | | | | | | | |   			when not matched by source and target.AclId = @AclId and target.ActorId = @ActorIdToGrant then delete 
                                 | | | | | | | | | |   			when matched and target.GrantLevel <> source.MaxGrantLevel then update set GrantLevel = source.MaxGrantLevel;		
                                 | | | | | | | | | |   		--<PostConfigUpdate />
                                 | | | | | | | | | |   	end
                                 | | | | | | | | | |   
                                 | | | | | | | | | |   	--<PostMemoryUpdate />
                                 | | | | | | | | | |   
                                 | | | | | | | | | |   --[=endsp]
                                 | | | | | | | | | |   end try
                                 | | | | | | | | | |   begin catch if @SPCallTC = 0 rollback; else if XACT_STATE() = 1 rollback transaction @SPCallId; exec CKCore.sErrorRethrow @@ProcId; return -1; end catch;
                                 | | | | | | | | | |   endsp: if @SPCallTC = 0 commit; return 0;
                                 | | | | | | | | | |   --[=/endsp]
                                 | | | | | | | | | |   end
                   +07.7126882   | | | | | | | | | | GO
                   +07.7178513 i | | | | | | | | | < 
                   +07.7178865 i | | | | | | | | | > Installing []db^CK.sGroupDestroy#transform (unversioned).
                   +07.7179213 i | | | | | | | | | < 
                   +07.7179387 i | | | | | | | | | > Installing []db^CK.sUserDestroy#transform (unversioned).
                   +07.7179664 i | | | | | | | | | < 
                   +07.7179847 i | | | | | | | | | > Installing []db^CK.vAclActor (unversioned).
                   +07.7182462   | | | | | | | | | | if OBJECT_ID('CK.vAclActor') is not null drop View CK.vAclActor;
                   +07.7182890   | | | | | | | | | | GO
                   +07.7309517   | | | | | | | | | | -- SetupConfig: {}
                                 | | | | | | | | | |   -- Kernel view for Acl that evaluates for each Actor and each Acl the resulting GrantLevel.
                                 | | | | | | | | | |   create view CK.vAclActor -- with SCHEMABINDING
                                 | | | | | | | | | |   as
                                 | | | | | | | | | |   	select 	
                                 | | | | | | | | | |   		acl.AclId,
                                 | | | | | | | | | |   		ActorId = a.ActorId, 
                                 | | | | | | | | | |   		GrantLevel = CAST(
                                 | | | | | | | | | |   		IsNull( -- Is the actor the system or a member of the system group?
                                 | | | | | | | | | |   			(select 127 from CK.tActorProfile with(nolock) 
                                 | | | | | | | | | |   					where ActorId = a.ActorId and GroupId = 1), 
                                 | | | | | | | | | |   			IsNull( -- Is there any GrantLevel associated to the groups it belongs to (plus the anonymous)?
                                 | | | | | | | | | |   				(select case when max(t.GrantLevel) > 127 then 255-max(t.GrantLevel) else max(t.GrantLevel) end
                                 | | | | | | | | | |   						from 
                                 | | | | | | | | | |   						(	select c.GrantLevel
                                 | | | | | | | | | |   								from CK.tAclConfig c with(nolock)
                                 | | | | | | | | | |   								inner join CK.tActorProfile groups with(nolock) on groups.GroupId = c.ActorId
                                 | | | | | | | | | |   								where groups.ActorId = a.ActorId and c.AclId = acl.AclId
                                 | | | | | | | | | |   							union all
                                 | | | | | | | | | |   							select c.GrantLevel 
                                 | | | | | | | | | |   								from CK.tAclConfig c with(nolock) where c.ActorId = 0 and c.AclId = acl.AclId
                                 | | | | | | | | | |   						) as t
                                 | | | | | | | | | |   				),
                                 | | | | | | | | | |   				-- Else, GrantLevel is zero: denied
                                 | | | | | | | | | |   				0 ) 
                                 | | | | | | | | | |   		) as tinyint)
                                 | | | | | | | | | |   		from CK.tAcl acl with(nolock)
                                 | | | | | | | | | |   		cross join CK.tActor a with(nolock);
                   +07.7310972   | | | | | | | | | | GO
                   +07.7327867 i | | | | | | | | | < 
                   +07.7328112 i | | | | | | | | | > Installing []db^CK.vAclActorReason (unversioned).
                   +07.7330464   | | | | | | | | | | if OBJECT_ID('CK.vAclActorReason') is not null drop View CK.vAclActorReason;
                   +07.7330830   | | | | | | | | | | GO
                   +07.7377989   | | | | | | | | | | -- SetupConfig: {}
                                 | | | | | | | | | |   -- Kernel Acl view that gives for each Actor and each Acl the ActorId (GroupId or UserId) that
                                 | | | | | | | | | |   -- is responsible for the actual GrantLevel.
                                 | | | | | | | | | |   -- The ReasonId (that is the ActorId) is positive for a Grant and negative for a Deny.
                                 | | | | | | | | | |   create view CK.vAclActorReason -- with SCHEMABINDING
                                 | | | | | | | | | |   as
                                 | | | | | | | | | |   	select 	acl.AclId,
                                 | | | | | | | | | |   		ActorId = a.ActorId, 
                                 | | | | | | | | | |   		ReasonId = IsNull( 
                                 | | | | | | | | | |   						-- Is the actor the system or a member of the system group? 
                                 | | | | | | | | | |   						-- If yes, ReasonId is group 1 (system).
                                 | | | | | | | | | |   						(select 1 from CK.tActorProfile with(nolock) 
                                 | | | | | | | | | |   								where ActorId = a.ActorId and GroupId = 1),
                                 | | | | | | | | | |   						IsNull( -- Is there any GrantLevel associated to the groups it belongs to (plus anonymous)? 
                                 | | | | | | | | | |   								-- If yes, Reason is the best group identifier (one of those that decide):
                                 | | | | | | | | | |   								--  positive if the GrantLevel is the result of a normal grant level.
                                 | | | | | | | | | |   								--  negative (i.e. -GroupId) if the group is restricting the level (deny, ie > 127).
                                 | | | | | | | | | |   								-- Note: it works because Anonymous can not deny: when ActorId = 0 it is a necessarily a grant. 
                                 | | | | | | | | | |   							(select top (1) case when t.GrantLevel <= 127 then abs(t.ActorId) else -abs(t.ActorId) end
                                 | | | | | | | | | |   									from 
                                 | | | | | | | | | |   									(	select c.GrantLevel, c.ActorId
                                 | | | | | | | | | |   											from CK.tAclConfig c with(nolock)
                                 | | | | | | | | | |   											inner join CK.tActorProfile groups with(nolock) on groups.GroupId = c.ActorId
                                 | | | | | | | | | |   											where groups.ActorId = a.ActorId and c.AclId = acl.AclId
                                 | | | | | | | | | |   										union all
                                 | | | | | | | | | |   										select c.GrantLevel, 0
                                 | | | | | | | | | |   											from CK.tAclConfig c with(nolock) where c.ActorId = 0 and c.AclId = acl.AclId
                                 | | | | | | | | | |   									) as t
                                 | | | | | | | | | |    								order by t.GrantLevel desc, t.ActorId desc ),
                                 | | | | | | | | | |   							-- Else, GrantLevel is zero: denied. Reason is -1: no rights.
                                 | | | | | | | | | |   							-1 )
                                 | | | | | | | | | |   				)
                                 | | | | | | | | | |   		from CK.tAcl acl with(nolock)
                                 | | | | | | | | | |   		cross join CK.tActor a with(nolock);
                   +07.7379261   | | | | | | | | | | GO
                   +07.7396808 i | | | | | | | | | < 
                   +07.7397093 i | | | | | | | | | > Installing []db^CK.AclTable (= 3.0.0 =).
                   +07.7397339 i | | | | | | | | | < 
                   +07.7397459 i | | | | | | | | | > Installing []db^CK.AclConfigMemoryTable.Head (= 1.0.1 =).
                   +07.7397722 i | | | | | | | | | < 
                   +07.7397825 i | | | | | | | | | > Installing []db^CK.vAclConfigMemory (unversioned).
                   +07.7399811   | | | | | | | | | | if OBJECT_ID('CK.vAclConfigMemory') is not null drop View CK.vAclConfigMemory;
                   +07.7400087   | | | | | | | | | | GO
                   +07.7421382   | | | | | | | | | | -- SetupConfig: { "Requires": [ "CK.vAclActor" ] }
                                 | | | | | | | | | |   -- This view gives, along with the resulting level, the configuration reason for each Actor and each Acl.
                                 | | | | | | | | | |   -- This is the most detailed view, based on the tAclConfigMemory table.
                                 | | | | | | | | | |   -- Each (ActorId,AclId) appear multiple times, once by actual configuration with its KeyReason string.
                                 | | | | | | | | | |   create view CK.vAclConfigMemory --with SCHEMABINDING
                                 | | | | | | | | | |   as 
                                 | | | | | | | | | |   select 	ac.AclId, 
                                 | | | | | | | | | |   		ac.ActorId, 
                                 | | | | | | | | | |   		ac.GrantLevel,
                                 | | | | | | | | | |   		ResultingLevel = acl.GrantLevel,
                                 | | | | | | | | | |   		KeyReason = ac.KeyReason
                                 | | | | | | | | | |   	from CK.tAclConfigMemory ac
                                 | | | | | | | | | |   	inner join CK.vAclActor acl on acl.AclId = ac.AclId and acl.ActorId = ac.ActorId;
                   +07.7422021   | | | | | | | | | | GO
                   +07.7441182 i | | | | | | | | | < 
                   +07.7441423 i | | | | | | | | | > Installing []db^CK.AclConfigMemoryTable (= 1.0.1 =).
                   +07.7441655 i | | | | | | | | | < 
                   +07.7441767 i | | | | | | | | | > Installing []db^CK.AclConfigTable.Head (= 1.0.0 =).
                   +07.7442213 i | | | | | | | | | < 
                   +07.7442302 i | | | | | | | | | > Installing []db^CK.vAclConfig (unversioned).
                   +07.7443953   | | | | | | | | | | if OBJECT_ID('CK.vAclConfig') is not null drop View CK.vAclConfig;
                   +07.7444221   | | | | | | | | | | GO
                   +07.7463553   | | | | | | | | | | -- SetupConfig: { "Requires": [ "CK.vAclActor" ] }
                                 | | | | | | | | | |   -- This view gives, along with the resulting level, the configuration for each Actor and each Acl.
                                 | | | | | | | | | |   -- This view is based on the tAclConfig table: each (ActorId,AclId) appear multiple times, once by configuration.
                                 | | | | | | | | | |   -- The vAclConfigMemory view gives more information. 
                                 | | | | | | | | | |   create view CK.vAclConfig --with SCHEMABINDING
                                 | | | | | | | | | |   as 
                                 | | | | | | | | | |   select 	ac.AclId, 
                                 | | | | | | | | | |   		ac.ActorId, 
                                 | | | | | | | | | |   		ac.GrantLevel,
                                 | | | | | | | | | |   		ResultingLevel = acl.GrantLevel
                                 | | | | | | | | | |   	from CK.tAclConfig ac
                                 | | | | | | | | | |   	inner join CK.vAclActor acl on acl.AclId = ac.AclId and acl.ActorId = ac.ActorId;
                   +07.7464378   | | | | | | | | | | GO
                   +07.7476945 i | | | | | | | | | < 
                   +07.7477186 i | | | | | | | | | > Installing []db^CK.AclConfigTable (= 1.0.0 =).
                   +07.7477503 i | | | | | | | | | < 
                   +07.7477641 i | | | | | | | | | > Installing []db^CK.DB.Acl.Package (= 1.0.0 =).
                   +07.7477878 i | | | | | | | | | < 
                   +07.7477976 i | | | | | | | | | > Installing []db^SqlDatabase (unversioned).
                   +07.7478208 i | | | | | | | | | < 
                   +07.7478337 i | | | | | | | | < 
                   +07.7478409 i | | | | | | | | > Settle step.
                   +07.7489520   | | | | | | | | | > Raising Settle setup event.
                   +07.7489872   | | | | | | | | | < 
                   +07.7490015 i | | | | | | | | | > Settling []CK._g.poco.Factory.
                   +07.7508575 i | | | | | | | | | < 
                   +07.7508798 i | | | | | | | | | > Settling []db^SqlDatabase.Connection.
                   +07.7511547 i | | | | | | | | | < 
                   +07.7511690 i | | | | | | | | | > Settling []db^Model.SqlDatabase.Head.
                   +07.7513577 i | | | | | | | | | < 
                   +07.7513716 i | | | | | | | | | > Settling []db^Model.CK.DB.Actor.Package.Head.
                   +07.7514166 i | | | | | | | | | < 
                   +07.7514265 i | | | | | | | | | > Settling []db^Model.CK.ActorTable.Head.
                   +07.7514474 i | | | | | | | | | < 
                   +07.7514559 i | | | | | | | | | > Settling []db^Model.CK.ActorTable.
                   +07.7524992 i | | | | | | | | | < 
                   +07.7525144 i | | | | | | | | | > Settling []db^Model.CK.GroupTable.Head.
                   +07.7525398 i | | | | | | | | | < 
                   +07.7525479 i | | | | | | | | | > Settling []db^Model.CK.UserTable.Head.
                   +07.7525711 i | | | | | | | | | < 
                   +07.7525782 i | | | | | | | | | > Settling []db^Model.CK.GroupTable.
                   +07.7526050 i | | | | | | | | | < 
                   +07.7526126 i | | | | | | | | | > Settling []db^Model.CK.UserTable.
                   +07.7526358 i | | | | | | | | | < 
                   +07.7526465 i | | | | | | | | | > Settling []db^Model.CK.ActorProfileTable.Head.
                   +07.7526719 i | | | | | | | | | < 
                   +07.7526813 i | | | | | | | | | > Settling []db^Model.CK.ActorProfileTable.
                   +07.7527085 i | | | | | | | | | < 
                   +07.7527183 i | | | | | | | | | > Settling []db^Model.CK.DB.Actor.Package.
                   +07.7527482 i | | | | | | | | | < 
                   +07.7527576 i | | | | | | | | | > Settling []db^Model.CK.DB.Acl.Package.Head.
                   +07.7528067 i | | | | | | | | | < 
                   +07.7528165 i | | | | | | | | | > Settling []db^Model.CK.AclTable.Head.
                   +07.7528361 i | | | | | | | | | < 
                   +07.7528437 i | | | | | | | | | > Settling []db^Model.CK.AclTable.
                   +07.7528732 i | | | | | | | | | < 
                   +07.7528839 i | | | | | | | | | > Settling []db^Model.CK.AclConfigMemoryTable.Head.
                   +07.7529062 i | | | | | | | | | < 
                   +07.7529156 i | | | | | | | | | > Settling []db^Model.CK.AclConfigMemoryTable.
                   +07.7529530 i | | | | | | | | | < 
                   +07.7529642 i | | | | | | | | | > Settling []db^Model.CK.AclConfigTable.Head.
                   +07.7529914 i | | | | | | | | | < 
                   +07.7530026 i | | | | | | | | | > Settling []db^Model.CK.AclConfigTable.
                   +07.7530231 i | | | | | | | | | < 
                   +07.7530343 i | | | | | | | | | > Settling []db^Model.CK.DB.Acl.Package.
                   +07.7530677 i | | | | | | | | | < 
                   +07.7530758 i | | | | | | | | | > Settling []db^Model.SqlDatabase.
                   +07.7530990 i | | | | | | | | | < 
                   +07.7531097 i | | | | | | | | | > Settling []db^SqlDatabase.Head.
                   +07.7531307 i | | | | | | | | | < 
                   +07.7531382 i | | | | | | | | | > Settling []db^CK.DB.Actor.Package.Head.
                   +07.7531574 i | | | | | | | | | < 
                   +07.7531650 i | | | | | | | | | > Settling []db^CK.ActorTable.Head.
                   +07.7532203 i | | | | | | | | | < 
                   +07.7532284 i | | | | | | | | | > Settling []db^CK.sActorCreate.
                   +07.7532547 i | | | | | | | | | < 
                   +07.7532685 i | | | | | | | | | > Settling []db^CK.ActorTable.
                   +07.7532998 i | | | | | | | | | < 
                   +07.7533074 i | | | | | | | | | > Settling []db^CK.GroupTable.Head.
                   +07.7533489 i | | | | | | | | | < 
                   +07.7533609 i | | | | | | | | | > Settling []db^CK.UserTable.Head.
                   +07.7533917 i | | | | | | | | | < 
                   +07.7534029 i | | | | | | | | | > Settling []db^CK.sGroupCreate.
                   +07.7534332 i | | | | | | | | | < 
                   +07.7534403 i | | | | | | | | | > Settling []db^CK.sGroupUserAdd.
                   +07.7535077 i | | | | | | | | | < 
                   +07.7535180 i | | | | | | | | | > Settling []db^CK.sGroupUserRemove.
                   +07.7535363 i | | | | | | | | | < 
                   +07.7535434 i | | | | | | | | | > Settling []db^CK.sUserCreate.
                   +07.7535648 i | | | | | | | | | < 
                   +07.7535764 i | | | | | | | | | > Settling []db^CK.sUserUserNameSet.
                   +07.7535947 i | | | | | | | | | < 
                   +07.7536019 i | | | | | | | | | > Settling []db^CK.vGroup.
                   +07.7536206 i | | | | | | | | | < 
                   +07.7536277 i | | | | | | | | | > Settling []db^CK.vUser.
                   +07.7536465 i | | | | | | | | | < 
                   +07.7536541 i | | | | | | | | | > Settling []db^CK.sGroupRemoveAllUsers.
                   +07.7536728 i | | | | | | | | | < 
                   +07.7536804 i | | | | | | | | | > Settling []db^CK.sUserRemoveFromAllGroups.
                   +07.7536996 i | | | | | | | | | < 
                   +07.7537072 i | | | | | | | | | > Settling []db^CK.sGroupDestroy.
                   +07.7537264 i | | | | | | | | | < 
                   +07.7537344 i | | | | | | | | | > Settling []db^CK.sUserDestroy.
                   +07.7537540 i | | | | | | | | | < 
                   +07.7537612 i | | | | | | | | | > Settling []db^CK.GroupTable.
                   +07.7538040 i | | | | | | | | | < 
                   +07.7538214 i | | | | | | | | | > Settling []db^CK.UserTable.
                   +07.7538870 i | | | | | | | | | < 
                   +07.7539031 i | | | | | | | | | > Settling []db^CK.ActorProfileTable.Head.
                   +07.7540097 i | | | | | | | | | < 
                   +07.7540244 i | | | | | | | | | > Settling []db^CK.ActorProfileTable.
                   +07.7541106 i | | | | | | | | | < 
                   +07.7541387 i | | | | | | | | | > Settling []db^CK.DB.Actor.Package.
                   +07.7542038 i | | | | | | | | | < 
                   +07.7542279 i | | | | | | | | | > Settling []db^CK.DB.Acl.Package.Head.
                   +07.7543020 i | | | | | | | | | < 
                   +07.7543154 i | | | | | | | | | > Settling []db^CK.AclTable.Head.
                   +07.7543997 i | | | | | | | | | < 
                   +07.7544292 i | | | | | | | | | > Settling []db^CK.DB.Acl.Package([]db^CK.sGroupDestroy).
                   +07.7545364 i | | | | | | | | | < 
                   +07.7545649 i | | | | | | | | | > Settling []db^CK.DB.Acl.Package([]db^CK.sUserDestroy).
                   +07.7546796 i | | | | | | | | | < 
                   +07.7546890 i | | | | | | | | | > Settling []db^CK.fAclGrantLevel.
                   +07.7547947 i | | | | | | | | | < 
                   +07.7548086 i | | | | | | | | | > Settling []db^CK.sAclCreate.
                   +07.7548777 i | | | | | | | | | < 
                   +07.7548996 i | | | | | | | | | > Settling []db^CK.sAclDestroy.
                   +07.7549933 i | | | | | | | | | < 
                   +07.7550138 i | | | | | | | | | > Settling []db^CK.sAclGrantSet.
                   +07.7551009 i | | | | | | | | | < 
                   +07.7551192 i | | | | | | | | | > Settling []db^CK.sGroupDestroy#transform.
                   +07.7552048 i | | | | | | | | | < 
                   +07.7552124 i | | | | | | | | | > Settling []db^CK.sUserDestroy#transform.
                   +07.7552972 i | | | | | | | | | < 
                   +07.7553102 i | | | | | | | | | > Settling []db^CK.vAclActor.
                   +07.7554003 i | | | | | | | | | < 
                   +07.7554079 i | | | | | | | | | > Settling []db^CK.vAclActorReason.
                   +07.7555172 i | | | | | | | | | < 
                   +07.7555453 i | | | | | | | | | > Settling []db^CK.AclTable.
                   +07.7556377 i | | | | | | | | | < 
                   +07.7556586 i | | | | | | | | | > Settling []db^CK.AclConfigMemoryTable.Head.
                   +07.7557323 i | | | | | | | | | < 
                   +07.7557577 i | | | | | | | | | > Settling []db^CK.vAclConfigMemory.
                   +07.7558157 i | | | | | | | | | < 
                   +07.7558273 i | | | | | | | | | > Settling []db^CK.AclConfigMemoryTable.
                   +07.7568417 i | | | | | | | | | < 
                   +07.7568595 i | | | | | | | | | > Settling []db^CK.AclConfigTable.Head.
                   +07.7569287 i | | | | | | | | | < 
                   +07.7569390 i | | | | | | | | | > Settling []db^CK.vAclConfig.
                   +07.7570336 i | | | | | | | | | < 
                   +07.7570487 i | | | | | | | | | > Settling []db^CK.AclConfigTable.
                   +07.7571344 i | | | | | | | | | < 
                   +07.7571465 i | | | | | | | | | > Settling []db^CK.DB.Acl.Package.
                   +07.7572147 i | | | | | | | | | < 
                   +07.7572268 i | | | | | | | | | > Settling []db^SqlDatabase.
                   +07.7573067 i | | | | | | | | | < 
                   +07.7573276   | | | | | | | | | > Raising Success setup event.
                   +07.7573990   | | | | | | | | | < 
                   +07.7574093 i | | | | | | | | < 
                   +07.7581751 i | | | | | | | | > Disposing 66 drivers.
                   +07.7582255 i | | | | | | | | < 
                   +07.7582438   | | | | | | | | > Raising Disposed setup event.
                   +07.7590242   | | | | | | | | < 
                   +07.7636858 i | | | | | | | < 
                   +07.7637308 i | | | | | | | > Aspect: CK.SqlServer.Setup.SqlSetupAspect.
                   +07.7639575 i | | | | | | | < 
                   +07.7640151 i | | | | | | | > Executing initial 0 deferred actions.
                   +07.7640588 i | | | | | | | <  | 1 conclusion:
                                 | | | | | | |    | Executed 0 actions.
                   +07.7640927 i | | | | | | < 
                   +07.7674275 i | | | | | | > Generating AppContext assembly (first run).
                   +07.7695052 i | | | | | | | > Generating StObj dynamic assembly.
                   +07.8041689 i | | | | | | | | > Generating source code.
                   +07.9024244 i | | | | | | | | | > Generating Method GroupTable.CreateGroupAsync( ISqlCallContext ctx, Int32 actorId ) => Task`1.
                   +07.9119938   | | | | | | | | | | > Low level SqlCommand create method for: 'procedure CK.sGroupCreate(@ActorId int, @GroupIdResult int output)'.
                   +07.9298812   | | | | | | | | | | < 
                   +07.9805740 i | | | | | | | | | < 
                   +07.9807002 i | | | | | | | | | > Generating Method GroupTable.DestroyGroupAsync( ISqlCallContext ctx, Int32 actorId, Int32 groupId, Boolean forceDestroy = False ) => Task.
                   +07.9809158   | | | | | | | | | | > Low level SqlCommand create method for: 'procedure CK.sGroupDestroy(@ActorId int, @GroupId int, @ForceDestroy bit=0)'.
                   +07.9810278   | | | | | | | | | | < 
                   +07.9815834 i | | | | | | | | | < 
                   +07.9816333 i | | | | | | | | | > Generating Method GroupTable.AddUserAsync( ISqlCallContext ctx, Int32 actorId, Int32 groupId, Int32 userId ) => Task.
                   +07.9817315   | | | | | | | | | | > Low level SqlCommand create method for: 'procedure CK.sGroupUserAdd(@ActorId int, @GroupId int, @UserId int)'.
                   +07.9818257   | | | | | | | | | | < 
                   +07.9819462 i | | | | | | | | | < 
                   +07.9819890 i | | | | | | | | | > Generating Method GroupTable.RemoveUserAsync( ISqlCallContext ctx, Int32 actorId, Int32 groupId, Int32 userId ) => Task.
                   +07.9820791   | | | | | | | | | | > Low level SqlCommand create method for: 'procedure CK.sGroupUserRemove(@ActorId int, @GroupId int, @UserId int)'.
                   +07.9821568   | | | | | | | | | | < 
                   +07.9822724 i | | | | | | | | | < 
                   +07.9823072 i | | | | | | | | | > Generating Method GroupTable.RemoveAllUsersAsync( ISqlCallContext ctx, Int32 actorId, Int32 groupId ) => Task.
                   +07.9823795   | | | | | | | | | | > Low level SqlCommand create method for: 'procedure CK.sGroupRemoveAllUsers(@ActorId int, @GroupId int)'.
                   +07.9824651   | | | | | | | | | | < 
                   +07.9825620 i | | | | | | | | | < 
                   +07.9825923 i | | | | | | | | | > Generating Method GroupTable.CreateGroup( ISqlCallContext ctx, Int32 actorId ) => Int32.
                   +07.9836138 i | | | | | | | | | < 
                   +07.9836642 i | | | | | | | | | > Generating Method GroupTable.DestroyGroup( ISqlCallContext ctx, Int32 actorId, Int32 groupId, Boolean forceDestroy = False ).
                   +07.9838065 i | | | | | | | | | < 
                   +07.9838489 i | | | | | | | | | > Generating Method GroupTable.AddUser( ISqlCallContext ctx, Int32 actorId, Int32 groupId, Int32 userId ).
                   +07.9839824 i | | | | | | | | | < 
                   +07.9840234 i | | | | | | | | | > Generating Method GroupTable.RemoveUser( ISqlCallContext ctx, Int32 actorId, Int32 groupId, Int32 userId ).
                   +07.9841417 i | | | | | | | | | < 
                   +07.9841832 i | | | | | | | | | > Generating Method GroupTable.RemoveAllUsers( ISqlCallContext ctx, Int32 actorId, Int32 groupId ).
                   +07.9843827 i | | | | | | | | | < 
                   +07.9844790 i | | | | | | | | | > Generating Method UserTable.CreateUserAsync( ISqlCallContext ctx, Int32 actorId, String userName ) => Task`1.
                   +07.9845977   | | | | | | | | | | > Low level SqlCommand create method for: 'procedure CK.sUserCreate(@ActorId int, @UserName nvarchar(255), @UserIdResult int output)'.
                   +07.9855884   | | | | | | | | | | < 
                   +07.9861485 i | | | | | | | | | < 
                   +07.9862230 i | | | | | | | | | > Generating Method UserTable.UserNameSetAsync( ISqlCallContext ctx, Int32 actorId, Int32 userId, String userName ) => Task`1.
                   +07.9863475   | | | | | | | | | | > Low level SqlCommand create method for: 'procedure CK.sUserUserNameSet(@ActorId int, @UserId int, @UserName nvarchar(127), @Done bit output)'.
                   +07.9864702   | | | | | | | | | | < 
                   +07.9867304 i | | | | | | | | | < 
                   +07.9867669 i | | | | | | | | | > Generating Method UserTable.DestroyUserAsync( ISqlCallContext ctx, Int32 actorId, Int32 userId ) => Task.
                   +07.9868433   | | | | | | | | | | > Low level SqlCommand create method for: 'procedure CK.sUserDestroy(@ActorId int, @UserId int)'.
                   +07.9869182   | | | | | | | | | | < 
                   +07.9870155 i | | | | | | | | | < 
                   +07.9870508 i | | | | | | | | | > Generating Method UserTable.RemoveFromAllGroupsAsync( ISqlCallContext ctx, Int32 actorId, Int32 userId ) => Task.
                   +07.9871199   | | | | | | | | | | > Low level SqlCommand create method for: 'procedure CK.sUserRemoveFromAllGroups(@ActorId int, @UserId int)'.
                   +07.9872145   | | | | | | | | | | < 
                   +07.9873323 i | | | | | | | | | < 
                   +07.9873747 i | | | | | | | | | > Generating Method UserTable.CreateUser( ISqlCallContext ctx, Int32 actorId, String userName ) => Int32.
                   +07.9875010 i | | | | | | | | | < 
                   +07.9875385 i | | | | | | | | | > Generating Method UserTable.UserNameSet( ISqlCallContext ctx, Int32 actorId, Int32 userId, String userName ) => Boolean.
                   +07.9876845 i | | | | | | | | | < 
                   +07.9877184 i | | | | | | | | | > Generating Method UserTable.DestroyUser( ISqlCallContext ctx, Int32 actorId, Int32 userId ).
                   +07.9878536 i | | | | | | | | | < 
                   +07.9878964 i | | | | | | | | | > Generating Method UserTable.RemoveFromAllGroups( ISqlCallContext ctx, Int32 actorId, Int32 userId ).
                   +07.9880201 i | | | | | | | | | < 
                   +07.9881272 i | | | | | | | | | > Generating Method AclTable.CreateAclAsync( ISqlCallContext ctx, Int32 actorId ) => Task`1.
                   +07.9882137   | | | | | | | | | | > Low level SqlCommand create method for: 'Procedure CK.sAclCreate(@ActorId int, @AclIdResult int output)'.
                   +07.9882807   | | | | | | | | | | < 
                   +07.9883829 i | | | | | | | | | < 
                   +07.9884297 i | | | | | | | | | > Generating Method AclTable.DestroyAclAsync( ISqlCallContext ctx, Int32 actorId, Int32 aclId ) => Task.
                   +07.9885056   | | | | | | | | | | > Low level SqlCommand create method for: 'Procedure CK.sAclDestroy(@ActorId int, @AclId int)'.
                   +07.9885685   | | | | | | | | | | < 
                   +07.9886631 i | | | | | | | | | < 
                   +07.9887109 i | | | | | | | | | > Generating Method AclTable.AclGrantSetAsync( ISqlCallContext ctx, Int32 actorId, Int32 aclId, Int32 actorIdToGrant, String keyReason, Byte grantLevel ) => Task.
                   +07.9888028   | | | | | | | | | | > Low level SqlCommand create method for: 'Procedure CK.sAclGrantSet(@ActorId int, @AclId int, @ActorIdToGrant int, @KeyReason varchar(128), @GrantLevel tinyint)'.
                   +07.9888791   | | | | | | | | | | < 
                   +07.9890000 i | | | | | | | | | < 
                   +07.9890384 i | | | | | | | | | > Generating Method AclTable.GetGrantLevelAsync( ISqlCallContext ctx, Int32 actorId, Int32 aclId ) => Task`1.
                   +07.9899420   | | | | | | | | | | > Low level SqlCommand create method for: 'function CK.fAclGrantLevel(@ActorId int, @AclId int) returns tinyint'.
                   +07.9908926   | | | | | | | | | | < 
                   +07.9918225 i | | | | | | | | | < 
                   +07.9918649 i | | | | | | | | | > Generating Method AclTable.CreateAcl( ISqlCallContext ctx, Int32 actorId ) => Int32.
                   +07.9920242 i | | | | | | | | | < 
                   +07.9920608 i | | | | | | | | | > Generating Method AclTable.DestroyAcl( ISqlCallContext ctx, Int32 actorId, Int32 aclId ).
                   +07.9922647 i | | | | | | | | | < 
                   +07.9923201 i | | | | | | | | | > Generating Method AclTable.AclGrantSet( ISqlCallContext ctx, Int32 actorId, Int32 aclId, Int32 actorIdToGrant, String keyReason, Byte grantLevel ).
                   +07.9924990 i | | | | | | | | | < 
                   +07.9925365 i | | | | | | | | | > Generating Method AclTable.GetGrantLevel( ISqlCallContext ctx, Int32 actorId, Int32 aclId ) => Byte.
                   +07.9926994 i | | | | | | | | | < 
                   +08.0091249 i | | | | | | | | < 
                   +08.0091601 i | | | | | | | | > Compiling source code.
                   +13.0783378 i | | | | | | | | | Saved source file: C:\Dev\CK-Database-Projects\CK-DB\Tests\CK.DB.Acl.Tests\CKSetup-WorkingDir\2018-04-13 08h41.00.0606476\CK.StObj.AutoAssembly.dll.0.cs
                   +13.0821907 i | | | | | | | | | Saved source file: C:\Dev\CK-Database-Projects\CK-DB\Tests\CK.DB.Acl.Tests\CKSetup-WorkingDir\2018-04-13 08h41.00.0606476\CK.StObj.AutoAssembly.dll.1.cs
                   +13.0854840 i | | | | | | | | | > Code Generation information.
                   +13.0855714 i | | | | | | | | | | Source code generation and compilation succeeded.
                   +13.0870244 i | | | | | | | | | <  | 1 conclusion:
                                 | | | | | | | | |    | Succeeded.
                   +13.0872516 i | | | | | | | | < 
                   +13.0872703 i | | | | | | | < 
                   +13.0931394 i | | | | | | | > Copying generated files to folder: 'C:\Dev\CK-Database-Projects\CK-DB\CK.DB.Acl\bin\Debug\netstandard2.0\'.
                   +13.0932023 i | | | | | | | | CK.StObj.AutoAssembly.dll.0.cs
                   +13.0985961 i | | | | | | | | CK.StObj.AutoAssembly.dll.1.cs
                   +13.1016632 i | | | | | | | | CK.StObj.AutoAssembly.dll
                   +13.1040279 i | | | | | | | < 
                   +13.1041109 i | | | | | | | > Copying generated files to folder: 'C:\Dev\CK-Database-Projects\CK-DB\Tests\CK.DB.Acl.Tests\bin\Debug\netcoreapp2.0'.
                   +13.1041814 i | | | | | | | | CK.StObj.AutoAssembly.dll.0.cs
                   +13.1057168 i | | | | | | | | CK.StObj.AutoAssembly.dll.1.cs
                   +13.1072047 i | | | | | | | | CK.StObj.AutoAssembly.dll
                   +13.1088120 i | | | | | | | < 
                   +13.1089044 i | | | | | | < 
                   +13.1155700 i | | | | | | > Terminating Aspects.
                   +13.1158337 i | | | | | | | > Aspect: CK.SqlServer.Setup.SqlSetupAspect.
                   +13.1160564 i | | | | | | | < 
                   +13.1161911 i | | | | | | | > Aspect: CK.Setup.SetupableAspect.
                   +13.1288749 i | | | | | | | < 
                   +13.1289646 i | | | | | | | > Executing initial 0 deferred actions.
                   +13.1290136 i | | | | | | | <  | 1 conclusion:
                                 | | | | | | |    | Executed 0 actions.
                   +13.1290520 i | | | | | | < 
                   +13.1464865 i | | | | | | No assembly load conflicts.
                   +13.4536698 i | | | | | < 
                   +13.4536867   | | | | < 
                   +13.4537251 i | | | < 
                   +13.4551347   | | | > Updating signature files.
                   +13.4632997   | | | < 
                   +13.4633568   | | | Leaving Working Directory 'C:\Dev\CK-Database-Projects\CK-DB\Tests\CK.DB.Acl.Tests\CKSetup-WorkingDir\2018-04-13 08h41.00.0606476\' as-is.
                   +13.4633626 i | | <  | 1 conclusion:
                                 | |    | Succeed
                   +13.4653391 i | | > Closing Store.
                   +13.4661955 i | | < 
                   +13.4662093 i | < 
                   +13.4709751 i | > Loading StObj map from CK.StObj.AutoAssembly.
                   +13.4956027 i | | > Loading dynamic 'CK.StObj.AutoAssembly, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null'.
                   +13.5244548 i | | < 
                   +13.5244829 i | < 
                   +13.5245043 i < 
2~~~~                            ~~ Monitor: ddf4bbb0-da2b-4e63-a863-2df71364765d
                   +13.7007863 i Done.
3~~~~                            ~~ Monitor: 448b308a-f663-4896-a78e-bd1d91aead5e
                   +13.7681098 i Done.
4~~~~                            ~~ Monitor: b70f98d0-bc19-4a95-94b4-5e86e69ac4a0
                   +13.8248100 i Done.
5~~~~                            ~~ Monitor: 585c47a7-9232-4d54-967f-25faf121ed5d
                   +13.8781665 i Done.
6~~~~                            ~~ Monitor: 7f68f82b-0b27-40c8-905f-9ce651ef64d3
                   +13.9362054 i Done.
7~~~~                            ~~ Monitor: b612cb61-f2ce-480c-af2a-b816d9822ad0
                   +13.9958579 i Done.
8~~~~                            ~~ Monitor: 98969cd6-1145-4ec3-a70f-84eb9269ff28
                   +14.0500385 i Done.
9~~~~                            ~~ Monitor: b9b8d152-1c25-45e0-a237-7a0c75580a9e
                   +14.1044593 i Done.
A~~~~                            ~~ Monitor: 069c2493-e674-4adf-bf87-8bf51ef8c8ee
                   +14.5485360 i Done.
B~~~~                            ~~ Monitor: fccd08eb-2fd1-420f-99d2-c238d00e98b3
                   +14.7028569 i Done.
C~~~~                            ~~ Monitor: 5db7c35d-8cdf-4104-aaba-b4ab7619ed70
                   +15.1387646 i Done.
D~~~~                            ~~ Monitor: c013ea76-3885-4a76-b0f9-83601baee46b
                   +15.1688091 E exec CK.sGroupCreate <= @ActorId=0, @GroupIdResult=null output
                                    ┌──────────────────────────■ Exception: SqlDetailedException ■──────────────────────────
                                    | Message:    exec CK.sGroupCreate <= @ActorId=0, @GroupIdResult=null output
                                    |  ┌──────────────────────────■ [Inner Exception] ■──────────────────────────
                                    |  |  ┌──────────────────────────■ Exception: SqlException ■──────────────────────────
                                    |  |  | Message:    Security.AnonymousNotAllowed
                                    |  |  | Stack:         at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
                                    |  |  |                at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
                                    |  |  |                at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
                                    |  |  |                at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
                                    |  |  |                at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
                                    |  |  |                at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
                                    |  |  |                at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
                                    |  |  |                at System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean asyncWrite, String methodName)
                                    |  |  |                at System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
                                    |  |  |                at CK.SqlServer.SqlConnectionControllerExtension.<>c.<ExecuteNonQuery>b__2_0(SqlCommand c)
                                    |  |  |                at CK.SqlServer.SqlStandardCallContext.CK.SqlServer.ISqlCommandExecutor.ExecuteQuery[T](IActivityMonitor monitor, SqlConnection connection, SqlCommand cmd, Func`2 innerExecutor)
                                    |  |  └─────────────────────────────────────────────────────────────────────────
                                    |  └─────────────────────────────────────────────────────────────────────────
                                    └─────────────────────────────────────────────────────────────────────────
                   +15.2794373 i Done.
E~~~~                            ~~ Monitor: 0c73fa6e-cede-47eb-80a4-9193d18150f1
                   +15.3154214 E exec CK.sGroupDestroy <= @ActorId=0, @GroupId=2346, @ForceDestroy=0
                                    ┌──────────────────────────■ Exception: SqlDetailedException ■──────────────────────────
                                    | Message:    exec CK.sGroupDestroy <= @ActorId=0, @GroupId=2346, @ForceDestroy=0
                                    |  ┌──────────────────────────■ [Inner Exception] ■──────────────────────────
                                    |  |  ┌──────────────────────────■ Exception: SqlException ■──────────────────────────
                                    |  |  | Message:    Security.AnonymousNotAllowed
                                    |  |  | Stack:         at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
                                    |  |  |                at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
                                    |  |  |                at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
                                    |  |  |                at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
                                    |  |  |                at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
                                    |  |  |                at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
                                    |  |  |                at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
                                    |  |  |                at System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean asyncWrite, String methodName)
                                    |  |  |                at System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
                                    |  |  |                at CK.SqlServer.SqlConnectionControllerExtension.<>c.<ExecuteNonQuery>b__2_0(SqlCommand c)
                                    |  |  |                at CK.SqlServer.SqlStandardCallContext.CK.SqlServer.ISqlCommandExecutor.ExecuteQuery[T](IActivityMonitor monitor, SqlConnection connection, SqlCommand cmd, Func`2 innerExecutor)
                                    |  |  └─────────────────────────────────────────────────────────────────────────
                                    |  └─────────────────────────────────────────────────────────────────────────
                                    └─────────────────────────────────────────────────────────────────────────
                   +15.3593598 i Done.
F~~~~                            ~~ Monitor: 80ca7c82-61d0-4d3f-abfb-75268311b5e5
                   +15.4351438 E exec CK.sGroupDestroy <= @ActorId=1, @GroupId=2347, @ForceDestroy=0
                                    ┌──────────────────────────■ Exception: SqlDetailedException ■──────────────────────────
                                    | Message:    exec CK.sGroupDestroy <= @ActorId=1, @GroupId=2347, @ForceDestroy=0
                                    |  ┌──────────────────────────■ [Inner Exception] ■──────────────────────────
                                    |  |  ┌──────────────────────────■ Exception: SqlException ■──────────────────────────
                                    |  |  | Message:    ck:sGroupDestroy-{30}-[Group.NotEmptyGroup]
                                    |  |  | Stack:         at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
                                    |  |  |                at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
                                    |  |  |                at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
                                    |  |  |                at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
                                    |  |  |                at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
                                    |  |  |                at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
                                    |  |  |                at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
                                    |  |  |                at System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean asyncWrite, String methodName)
                                    |  |  |                at System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
                                    |  |  |                at CK.SqlServer.SqlConnectionControllerExtension.<>c.<ExecuteNonQuery>b__2_0(SqlCommand c)
                                    |  |  |                at CK.SqlServer.SqlStandardCallContext.CK.SqlServer.ISqlCommandExecutor.ExecuteQuery[T](IActivityMonitor monitor, SqlConnection connection, SqlCommand cmd, Func`2 innerExecutor)
                                    |  |  └─────────────────────────────────────────────────────────────────────────
                                    |  └─────────────────────────────────────────────────────────────────────────
                                    └─────────────────────────────────────────────────────────────────────────
                   +15.5423315 i Done.
10~~~~                            ~~ Monitor: 93219d50-837c-48dc-a884-5d3e05d67d6f
                    +15.7009161 i Done.
11~~~~                            ~~ Monitor: 5473885f-e04a-4c82-8558-3e26ff9d31ff
                    +15.8228412 i Done.
12~~~~                            ~~ Monitor: 120601a0-ad17-49cd-b9c4-b0c66456e141
                    +16.0815418 i Done.
13~~~~                            ~~ Monitor: 3304003c-618e-4438-9fbb-909f31341d01
                    +16.3587903 i Done.
14~~~~                            ~~ Monitor: 1c9d390c-83b5-4ccd-af87-1ce0db53b292
                    +16.4779750 i Done.
15~~~~                            ~~ Monitor: 70631ea9-0170-4a46-b903-8f08d8367e2e
                    +16.5000294 E exec CK.sGroupUserRemove <= @ActorId=2356, @GroupId=1, @UserId=2355
                                     ┌──────────────────────────■ Exception: SqlDetailedException ■──────────────────────────
                                     | Message:    exec CK.sGroupUserRemove <= @ActorId=2356, @GroupId=1, @UserId=2355
                                     |  ┌──────────────────────────■ [Inner Exception] ■──────────────────────────
                                     |  |  ┌──────────────────────────■ Exception: SqlException ■──────────────────────────
                                     |  |  | Message:    ck:sGroupUserRemove-{25}-[Security.ActorMustBeSytem]
                                     |  |  | Stack:         at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
                                     |  |  |                at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
                                     |  |  |                at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
                                     |  |  |                at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
                                     |  |  |                at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
                                     |  |  |                at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
                                     |  |  |                at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
                                     |  |  |                at System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean asyncWrite, String methodName)
                                     |  |  |                at System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
                                     |  |  |                at CK.SqlServer.SqlConnectionControllerExtension.<>c.<ExecuteNonQuery>b__2_0(SqlCommand c)
                                     |  |  |                at CK.SqlServer.SqlStandardCallContext.CK.SqlServer.ISqlCommandExecutor.ExecuteQuery[T](IActivityMonitor monitor, SqlConnection connection, SqlCommand cmd, Func`2 innerExecutor)
                                     |  |  └─────────────────────────────────────────────────────────────────────────
                                     |  └─────────────────────────────────────────────────────────────────────────
                                     └─────────────────────────────────────────────────────────────────────────
                    +16.5738539 E exec CK.sGroupUserAdd <= @ActorId=2356, @GroupId=1, @UserId=2357
                                     ┌──────────────────────────■ Exception: SqlDetailedException ■──────────────────────────
                                     | Message:    exec CK.sGroupUserAdd <= @ActorId=2356, @GroupId=1, @UserId=2357
                                     |  ┌──────────────────────────■ [Inner Exception] ■──────────────────────────
                                     |  |  ┌──────────────────────────■ Exception: SqlException ■──────────────────────────
                                     |  |  | Message:    ck:sGroupUserAdd-{28}-[Security.ActorMustBeSytem]
                                     |  |  | Stack:         at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
                                     |  |  |                at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
                                     |  |  |                at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
                                     |  |  |                at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
                                     |  |  |                at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
                                     |  |  |                at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
                                     |  |  |                at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
                                     |  |  |                at System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean asyncWrite, String methodName)
                                     |  |  |                at System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
                                     |  |  |                at CK.SqlServer.SqlConnectionControllerExtension.<>c.<ExecuteNonQuery>b__2_0(SqlCommand c)
                                     |  |  |                at CK.SqlServer.SqlStandardCallContext.CK.SqlServer.ISqlCommandExecutor.ExecuteQuery[T](IActivityMonitor monitor, SqlConnection connection, SqlCommand cmd, Func`2 innerExecutor)
                                     |  |  └─────────────────────────────────────────────────────────────────────────
                                     |  └─────────────────────────────────────────────────────────────────────────
                                     └─────────────────────────────────────────────────────────────────────────
                    +16.6401056 E exec CK.sGroupRemoveAllUsers <= @ActorId=2356, @GroupId=1
                                     ┌──────────────────────────■ Exception: SqlDetailedException ■──────────────────────────
                                     | Message:    exec CK.sGroupRemoveAllUsers <= @ActorId=2356, @GroupId=1
                                     |  ┌──────────────────────────■ [Inner Exception] ■──────────────────────────
                                     |  |  ┌──────────────────────────■ Exception: SqlException ■──────────────────────────
                                     |  |  | Message:    ck:sGroupUserRemove-{25}-[Security.ActorMustBeSytem]<-CK.sGroupRemoveAllUsers
                                     |  |  | Stack:         at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
                                     |  |  |                at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
                                     |  |  |                at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
                                     |  |  |                at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
                                     |  |  |                at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
                                     |  |  |                at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
                                     |  |  |                at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
                                     |  |  |                at System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean asyncWrite, String methodName)
                                     |  |  |                at System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
                                     |  |  |                at CK.SqlServer.SqlConnectionControllerExtension.<>c.<ExecuteNonQuery>b__2_0(SqlCommand c)
                                     |  |  |                at CK.SqlServer.SqlStandardCallContext.CK.SqlServer.ISqlCommandExecutor.ExecuteQuery[T](IActivityMonitor monitor, SqlConnection connection, SqlCommand cmd, Func`2 innerExecutor)
                                     |  |  └─────────────────────────────────────────────────────────────────────────
                                     |  └─────────────────────────────────────────────────────────────────────────
                                     └─────────────────────────────────────────────────────────────────────────
                    +16.6713358 i Done.
16~~~~                            ~~ Monitor: 358efc53-2270-4d3a-87d0-5aecb478740f
                    +16.7269913 i Done.
17~~~~                            ~~ Monitor: 0990c4b7-5e16-4ab6-90a7-207ddfd0fd49
                    +16.7507178 E exec CK.sUserCreate <= @ActorId=0, @UserName=N'1c65adbc-92ac-4b9c-bcc4-556083533f17', @UserIdResult=null output
                                     ┌──────────────────────────■ Exception: SqlDetailedException ■──────────────────────────
                                     | Message:    exec CK.sUserCreate <= @ActorId=0, @UserName=N'1c65adbc-92ac-4b9c-bcc4-556083533f17', @UserIdResult=null output
                                     |  ┌──────────────────────────■ [Inner Exception] ■──────────────────────────
                                     |  |  ┌──────────────────────────■ Exception: SqlException ■──────────────────────────
                                     |  |  | Message:    Security.AnonymousNotAllowed
                                     |  |  | Stack:         at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
                                     |  |  |                at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
                                     |  |  |                at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
                                     |  |  |                at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
                                     |  |  |                at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
                                     |  |  |                at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
                                     |  |  |                at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
                                     |  |  |                at System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean asyncWrite, String methodName)
                                     |  |  |                at System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
                                     |  |  |                at CK.SqlServer.SqlConnectionControllerExtension.<>c.<ExecuteNonQuery>b__2_0(SqlCommand c)
                                     |  |  |                at CK.SqlServer.SqlStandardCallContext.CK.SqlServer.ISqlCommandExecutor.ExecuteQuery[T](IActivityMonitor monitor, SqlConnection connection, SqlCommand cmd, Func`2 innerExecutor)
                                     |  |  └─────────────────────────────────────────────────────────────────────────
                                     |  └─────────────────────────────────────────────────────────────────────────
                                     └─────────────────────────────────────────────────────────────────────────
                    +16.7825446 i Done.
18~~~~                            ~~ Monitor: d8719e6a-7491-4f46-8db0-d62dabed5b71
                    +16.8470286 i Done.
19~~~~                            ~~ Monitor: b06bb7c6-a9e5-44a5-8d9a-2ac06324b893
                    +16.9052063 i Done.
1A~~~~                            ~~ Monitor: 656abf96-72cb-4618-89bb-a2c59011ac90
                    +17.0605527 i Done.
